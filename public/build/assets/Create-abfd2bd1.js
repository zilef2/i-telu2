import{r as $,v as z,w as C,c as u,b as l,f as c,k as d,d as t,t as m,u as s,F as k,h as j,g as S,l as f,q as U,e as A}from"./app-8190fc74.js";import{_ as p}from"./InputError-1b18cc94.js";import{_ as i}from"./InputLabel-668bb308.js";import{_ as q,a as B}from"./Modal-41b4ce14.js";import{_ as v}from"./PrimaryButton-ea2d3d80.js";import{_ as b}from"./TextInput-100d83c4.js";import{_ as G}from"./SelectInput-1ca4357c.js";const N={class:"space-y-6"},E=["onSubmit"],F={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},M={class:"font-serif text-gray-800 dark:text-gray-100"},L={key:0},O=t("b",null,"Por favor, corrija el(los) siguiente(s) error(es):",-1),T={class:"text-red-400 bg-red-50"},D={class:"my-6 grid sm:grid-cols-5 xs:grid-cols-1 gap-6"},P={class:"col-span-2"},H={class:"col-span-2"},I={class:"col-span-5"},J={class:"w-full"},K={class:"w-full"},Q={class:"flex justify-end"},se={__name:"Create",props:{show:Boolean,title:String,MateriasSelect:Object},emits:["close"],setup(V,{emit:g}){const _=V;$({toolGenerar:"Gastara un token",mensajeGeenrar:"Generar sub topicos",respuesta:""});const e=z({nombre:"",descripcion:"",materia_id:0,nsubtemas:0,subtema:["","","","",""],resultAprendizaje:["","","","",""],enum:"",codigo:""}),w=()=>{e.post(route("Unidad.store"),{preserveScroll:!0,onSuccess:()=>{g("close"),e.reset()},onError:()=>null,onFinish:()=>null})},y=a=>{a>0?e.nsubtemas=e.nsubtemas<5?e.nsubtemas+=a:e.nsubtemas:e.nsubtemas=e.nsubtemas>0?e.nsubtemas+=a:0};return C(()=>{_.show&&(e.errors={})}),(a,r)=>(d(),u("section",N,[l(q,{show:_.show,onClose:r[7]||(r[7]=o=>g("close"))},{default:c(()=>[t("form",{class:"p-6",onSubmit:A(w,["prevent"])},[t("h2",F,m(a.lang().label.add)+" "+m(_.title),1),t("h2",M,m(a.lang().LongTexts.markObligatory),1),s(e).errors.length?(d(),u("p",L,[O,t("ul",null,[(d(!0),u(k,null,j(a.errors,o=>(d(),u("li",T,m(o),1))),256))])])):S("",!0),t("div",D,[t("div",P,[l(i,{for:"materia_id",value:a.lang().label.materia+"*"},null,8,["value"]),l(G,{name:"materia_id",class:"mt-1 block w-full",modelValue:s(e).materia_id,"onUpdate:modelValue":r[0]||(r[0]=o=>s(e).materia_id=o),required:"",dataSet:V.MateriasSelect},null,8,["modelValue","dataSet"]),l(p,{class:"mt-2",message:s(e).errors.materia_id},null,8,["message"])]),t("div",null,[l(i,{for:"enum",value:a.lang().label.enumUnidad},null,8,["value"]),l(b,{id:"enum",type:"number",class:"mt-1 block w-full",modelValue:s(e).enum,"onUpdate:modelValue":r[1]||(r[1]=o=>s(e).enum=o),required:"",placeholder:a.lang().placeholder.enum,error:s(e).errors.enum},null,8,["modelValue","placeholder","error"]),l(p,{class:"mt-2",message:s(e).errors.enum},null,8,["message"])]),t("div",H,[l(i,{for:"nombre",value:a.lang().label.name+"*"},null,8,["value"]),l(b,{id:"nombre",type:"text",class:"mt-1 block w-full",modelValue:s(e).nombre,"onUpdate:modelValue":r[2]||(r[2]=o=>s(e).nombre=o),required:"",placeholder:a.lang().placeholder.nombre,error:s(e).errors.nombre},null,8,["modelValue","placeholder","error"]),l(p,{class:"mt-2",message:s(e).errors.nombre},null,8,["message"])]),t("div",I,[l(i,{for:"materia_id",value:"numero de subtopicos"}),l(v,{onClick:r[3]||(r[3]=o=>y(1)),name:"subir",class:"px-auto m-1 w-10",type:"button"},{default:c(()=>[f(" + ")]),_:1}),l(v,{onClick:r[4]||(r[4]=o=>y(-1)),name:"subir",class:"px-auto m-1 w-10",type:"button"},{default:c(()=>[f(" - ")]),_:1}),l(b,{disabled:"",id:"descripcion",type:"number",class:"mt-1 w-24 ml-3",modelValue:s(e).nsubtemas,"onUpdate:modelValue":r[5]||(r[5]=o=>s(e).nsubtemas=o),required:"",placeholder:a.lang().placeholder.descripcion,error:s(e).errors.descripcion},null,8,["modelValue","placeholder","error"])]),(d(!0),u(k,null,j(s(e).nsubtemas,(o,n)=>(d(),u("div",{key:n,class:"flex gap-8 col-span-5"},[t("div",J,[l(i,{for:"stema",value:a.lang().label.stema+" "+(n+1)},null,8,["value"]),l(b,{id:"stema",type:"text",class:"mt-1 block w-full",modelValue:s(e).subtema[n],"onUpdate:modelValue":h=>s(e).subtema[n]=h,placeholder:a.lang().placeholder.stema,error:s(e).errors.stema},null,8,["modelValue","onUpdate:modelValue","placeholder","error"]),l(p,{class:"mt-2",message:s(e).errors.stema},null,8,["message"])]),t("div",K,[l(i,{for:"resultAprendizaje",value:a.lang().label.resultAprendizaje+" "+(n+1)},null,8,["value"]),l(b,{id:"resultAprendizaje",type:"text",class:"mt-1 block w-full",modelValue:s(e).resultAprendizaje[n],"onUpdate:modelValue":h=>s(e).resultAprendizaje[n]=h,placeholder:a.lang().placeholder.resultAprendizaje,error:s(e).errors.resultAprendizaje},null,8,["modelValue","onUpdate:modelValue","placeholder","error"]),l(p,{class:"mt-2",message:s(e).errors.resultAprendizaje},null,8,["message"])])]))),128))]),t("div",Q,[l(B,{disabled:s(e).processing,onClick:r[6]||(r[6]=o=>g("close"))},{default:c(()=>[f(m(a.lang().button.close),1)]),_:1},8,["disabled"]),l(v,{class:U(["ml-3",{"opacity-25":s(e).processing}]),disabled:s(e).processing,onClick:w},{default:c(()=>[f(m(s(e).processing?a.lang().button.add+"...":a.lang().button.add),1)]),_:1},8,["class","disabled"])])],40,E)]),_:1},8,["show"])]))}};export{se as default};
