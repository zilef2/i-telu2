import{r as R,N as u,v as j,o as V,w as N,a as q,c as l,b as f,d as o,e as I,u as d,t as g,f as p,g as m,F as y,h as M,j as L,k as n,l as x,n as h,m as b,p as v,q as F,s as P,C as U,O as z}from"./app-e4aec783.js";import{_ as O,a as D}from"./GreenButton-44a265c4.js";import{T as $}from"./Toast-501ce206.js";/* empty css                   *//* empty css                                                  */import"./index-1d64f8a7.js";import"./_plugin-vue_export-helper-c27b6911.js";const E={class:"space-y-1 flex self-center"},B=o("div",{class:"flex-none w-14"}," . ",-1),G={class:"grow mx-1 md:mx-12 xl:mx-20 text-center p-8"},J={class:"grid grid-cols-1 gap-6"},H={class:"container flex flex-col items-center justify-center px-6 mx-auto"},K=o("div",{class:"flex justify-center mx-auto"},[o("img",{class:"w-auto h-7 sm:h-8",src:"https://merakiui.com/images/logo.svg",alt:""})],-1),Q={key:0,class:"mt-4 text-2xl font-semibold tracking-wide text-center text-gray-800 capitalize md:text-3xl dark:text-white"},W={key:1,class:"mt-4 text-2xl font-semibold tracking-wide text-center text-gray-800 capitalize md:text-3xl dark:text-white"},Y=o("p",{class:"my-6 text-gray-500 font-bold dark:text-gray-400"}," Este asistente, concebido con la finalidad de optimizar la argumentaciÃ³n, coherencia y cohesiÃ³n de su disertaciÃ³n, se erige como una herramienta de apoyo sin la intenciÃ³n de reemplazar su ejercicio de crÃ­tica argumentativa. Le insto cordialmente a compartir su texto, y con el mayor esmero, le ofreceremos valiosas sugerencias. ",-1),Z={class:"text-center"},X={class:"flex items-center mt-6"},ee={key:0,class:"text-red-500 dark:text-red-200 underline"},te=o("div",{class:"flex text-center mt-6"},[o("p",{class:"text-gray-500 text-xl font-bold dark:text-gray-400"},"A que asignatura pertenecerÃ¡ el articulo")],-1),re={class:"mt-2 grid grid-cols-3 gap-8"},oe={id:"opciones2U",class:"mt-2 w-full"},ie=o("label",{name:""},null,-1),ae={key:0,id:"carrera",class:"mt-2 w-full"},se={key:1,id:"asignatura",class:"mt-2 w-full"},ne={class:"flex items-center mt-6"},le={key:0,class:"text-sky-600 dark:text-gray-400"},de={key:0,class:"grid grid-cols-2 gap-8"},ce={class:""},ue=["for"],ge={class:"relative rounded-md shadow-sm"},me=["id","onFocus","onUpdate:modelValue"],fe={key:0,class:"absolute inset-y-0 left-0 pl-3 flex items-center cursor-progress text-gray-400"},_e={class:""},pe=["for"],xe={class:"relative rounded-md shadow-sm select-none"},be=["id"],ve={class:"col-span-2"},ye=["for"],he={class:"relative rounded-md shadow-sm"},ke=["id","onFocus","onUpdate:modelValue"],we={key:1},Ae={class:""},Se=["for"],Ce={class:"relative rounded-md shadow-sm"},Te=["id","onFocus","onUpdate:modelValue"],Re={key:0,class:"absolute inset-y-0 left-0 pl-3 flex items-center cursor-progress text-gray-400"},je={key:2,class:""},Ve={class:"flex items-center my-2"},Ne={key:0,class:"text-red-500 dark:text-red-200 underline"},qe={class:"flex items-center mt-2"},Ie={key:0,class:"text-sky-600 text-lg dark:text-gray-600"},Me={class:"mt-8"},Le={class:"flex items-center mt-6"},Fe={key:0,class:"text-red-500 dark:text-red-200 underline"},Pe=o("hr",{class:"border-2 border-sky-100 my-8"},null,-1),Ue={class:"flex gap-12 text-center"},ze=o("div",{class:"flex-none w-14"}," . ",-1),He={__name:"Edit",props:{title:String,breadcrumbs:Object,numberPermissions:Number,articulo:Object,Selects:Object,ValoresGenerarSeccion:Object},setup(k){const i=k,e=R({mostrarLoader:!1,MensajeFinal:"",restarAlToken:0,NumSujerencias:[],errorCarrera:[],campos:[{id:"nick",etiqueta:"Titulo del articulo",valor:[]},{id:"Portada",etiqueta:u("Portada"),valor:[]},{id:"Resumen",etiqueta:u("Resumen"),valor:[]},{id:"Palabras_Clave",etiqueta:u("Palabras Clave"),valor:[]},{id:"Introduccion",etiqueta:u("Introduccion"),valor:[]},{id:"Revision_de_la_Literatura",etiqueta:u("Revision de la Literatura"),valor:[]},{id:"Metodologia",etiqueta:u("Metodologia"),valor:[]},{id:"Resultados",etiqueta:u("Resultados"),valor:[]},{id:"Discusion",etiqueta:u("Discusion"),valor:[]},{id:"Conclusiones",etiqueta:u("Conclusiones"),valor:[]},{id:"Agradecimientos",etiqueta:u("Agradecimientos"),valor:[]},{id:"Referencias",etiqueta:u("Referencias"),valor:[]},{id:"Anexos_o_Apendices",etiqueta:u("Anexos_o_Apendices"),valor:[]}],universidadid:i.Selects.opcionesU[0],carreraid:null,materiaid:null,tipoTexto:"",campoActivo:null}),r=j({...Object.fromEntries(e.campos.map(a=>[a.id,[]])),universidadid:null,carreraid:null,materiaid:null,Resumen_integer:0,Introduccion_integer:0,Discusion_integer:0,Conclusiones_integer:0,Metodologia_integer:0});function w(){r.nick[0]=i.articulo.nick,r.Portada[0]=i.articulo.Portada,r.Resumen[0]=i.articulo.Resumen,r.Palabras_Clave[0]=i.articulo.Palabras_Clave,r.Introduccion[0]=i.articulo.Introduccion,r.Revision_de_la_Literatura[0]=i.articulo.Revision_de_la_Literatura,r.Metodologia[0]=i.articulo.Metodologia,r.Resultados[0]=i.articulo.Resultados,r.Discusion[0]=i.articulo.Discusion,r.Conclusiones[0]=i.articulo.Conclusiones,r.Agradecimientos[0]=i.articulo.Agradecimientos,r.Referencias[0]=i.articulo.Referencias,r.Anexos_o_Apendices[0]=i.articulo.Anexos_o_Apendices,e.universidadid=i.Selects.opcionesU[i.articulo.universidad_id],e.carreraid=i.Selects.opcionesCarreras[i.articulo.universidad_id][i.articulo.carrera_id];let a=i.Selects.opcionesAsignatura[i.articulo.carrera_id].findIndex(s=>s.value==i.articulo.materia_id);console.log("ðŸ§ˆ debu indexMat:",a),e.materiaid=i.Selects.opcionesAsignatura[i.articulo.carrera_id][a],console.log("ðŸ§ˆ debu props.Selects.opcionesAsignatura[props.articulo.carrera_id]:",i.Selects.opcionesAsignatura[i.articulo.carrera_id])}V(()=>{let a;e.campos.forEach(s=>{a=s.id,e.NumSujerencias[a]=0}),w()}),N(()=>{}),q(()=>i.ValoresGenerarSeccion,a=>{console.log("ðŸ§ˆ debu newX:",a),a&&a.respuesta&&(r[e.tipoTexto][1]=a.respuesta,r[e.tipoTexto][2]=r[e.tipoTexto][0],e.restarAlToken=a.restarAlToken,e.NumSujerencias[e.tipoTexto]++,console.log("ðŸ§ˆ debu data.NumSujerencias:",e.NumSujerencias))});const A=()=>{window.scrollTo({top:document.body.scrollHeight-10,behavior:"smooth"})},S=()=>{window.scrollTo({top:0,behavior:"smooth"})},C=async(a,s)=>{console.log("ðŸ§ˆ debu tipoTexto:",s),e.errorCarrera=[],e.mostrarLoader=!0,e.tipoTexto=s;const _=10;U(a)>_||a.length>_*5?e.materiaid&&e.materiaid.value?(r[e.tipoTexto][0]=r[e.tipoTexto][2]?r[e.tipoTexto][2]:r[e.tipoTexto][0],z.reload({only:["ValoresGenerarSeccion"],data:{elTexto:a,materia:e.materiaid.value,tipoTexto:s}},{preserveScroll:!0,onSuccess:()=>{},onError:()=>alert(JSON.stringify(r.errors,null,4)),onFinish:()=>{e.mostrarLoader=!1}})):e.errorCarrera[0]="Seleccione una asignatura primero":e.errorCarrera[s]="El texto a perfeccionar es muy corto",e.mostrarLoader=!1},T=()=>{r.Resumen_integer=e.NumSujerencias.Resumen,r.Introduccion_integer=e.NumSujerencias.Introduccion,r.Discusion_integer=e.NumSujerencias.Discusion,r.Conclusiones_integer=e.NumSujerencias.Conclusiones,r.Metodologia_integer=e.NumSujerencias.Metodologia,r.universidadid=e.universidadid,r.carreraid=e.carreraid,r.materiaid=e.materiaid,r.put(route("Articulo.update",i.articulo.id),{preserveScroll:!0,onSuccess:()=>{r.reset(),e.MensajeFinal="Articulo guardado correctamente"},onError:()=>alert(JSON.stringify(r.errors,null,4)),onFinish:()=>null})};return(a,s)=>{const _=L("v-select");return n(),l(y,null,[f($,{flash:a.$page.props.flash},null,8,["flash"]),o("section",E,[B,o("div",G,[o("form",{onSubmit:s[6]||(s[6]=I((...t)=>a.create&&a.create(...t),["prevent"])),class:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"},[o("div",J,[o("div",H,[K,d(r).nick?(n(),l("h1",W,g(d(r).nick[0]),1)):(n(),l("h1",Q," Nuevo articulo ")),Y]),o("div",Z,[o("button",{type:"button",onClick:A,class:"w-22 hover:bg-green-500 item-center px-6 py-2 mt-4 mx-8 text-sm font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-sky-800 rounded-lg focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-50"}," Ir al final â†“ "),f(d(h),{href:a.route("Articulo.index"),class:"w-22 hover:bg-gray-600 item-center px-6 py-2 mt-4 text-sm font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-black rounded-lg focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-50"},{default:p(()=>[x(" Regresar ")]),_:1},8,["href"])]),o("div",X,[e.errorCarrera[0]?(n(),l("p",ee,g(e.errorCarrera[0]),1)):m("",!0)]),te,o("div",re,[o("div",oe,[ie,f(_,{options:i.Selects.opcionesU,label:"title",modelValue:e.universidadid,"onUpdate:modelValue":s[0]||(s[0]=t=>e.universidadid=t)},null,8,["options","modelValue"])]),e.universidadid?(n(),l("div",ae,[f(_,{options:i.Selects.opcionesCarreras[e.universidadid.value],label:"title",modelValue:e.carreraid,"onUpdate:modelValue":s[1]||(s[1]=t=>e.carreraid=t)},null,8,["options","modelValue"])])):m("",!0),e.carreraid?(n(),l("div",se,[f(_,{options:i.Selects.opcionesAsignatura[e.carreraid.value],label:"title",modelValue:e.materiaid,"onUpdate:modelValue":s[2]||(s[2]=t=>e.materiaid=t)},null,8,["options","modelValue"])])):m("",!0)]),o("div",ne,[e.restarAlToken&&e.restarAlToken!=0?(n(),l("p",le,"Se consumiÃ³: "+g(e.restarAlToken)+" token",1)):m("",!0)]),(n(!0),l(y,null,M(e.campos,t=>(n(),l("div",{key:t.id},[e.NumSujerencias[t.id]?(n(),l("div",de,[o("div",ce,[o("label",{for:t.id,class:"text-gray-500 text-xl font-bold dark:text-gray-400 mb-2"},g(t.etiqueta),9,ue),o("div",ge,[b(o("textarea",{id:t.id+"0",onFocus:c=>e.campoActivo=t.id,rows:"8",cols:"33",onBlur:s[3]||(s[3]=c=>e.campoActivo=null),"onUpdate:modelValue":c=>d(r)[t.id][0]=c,disabled:"",class:"block w-full px-5 py-3 mt-2 bg-gray-50 text-gray-700 placeholder-gray-400 border border-gray-200 rounded-lg dark:placeholder-gray-600 dark:bg-gray-900 dark:text-gray-100 dark:border-gray-700 focus:border-blue-400 dark:focus:border-blue-400 focus:ring-blue-400 focus:outline-none focus:ring focus:ring-opacity-40 text-justify"},null,40,me),[[v,d(r)[t.id][0]]]),e.campoActivo===t.id&&d(r)[t.id][0]==""?(n(),l("div",fe," Puede preguntar a la IA, haciendo click en Generar o Refinar ")):m("",!0)])]),o("div",_e,[o("label",{for:t.id,class:"text-gray-500 text-xl font-bold dark:text-gray-400 mb-2"},"Sugerencia "+g(t.etiqueta),9,pe),o("div",xe,[o("div",{id:t.id+"1",class:"block w-full px-5 py-3 mt-2 text-white font-sans bg-black border border-sky-600 select-none rounded-lg dark:placeholder-gray-600 dark:bg-gray-200 dark:text-gray-800 dark:border-gray-700 focus:border-blue-400 dark:focus:border-blue-400 focus:ring-blue-400 focus:outline-none focus:ring focus:ring-opacity-40 text-justify"},g(d(r)[t.id][1][0]),9,be)])]),o("div",ve,[o("label",{for:t.id,class:"text-gray-500 text-xl font-bold dark:text-gray-400 mb-2"},g(t.etiqueta)+" Final",9,ye),o("div",he,[b(o("textarea",{id:t.id+"2",onFocus:c=>e.campoActivo=t.id,rows:"6",cols:"33",onBlur:s[4]||(s[4]=c=>e.campoActivo=null),"onUpdate:modelValue":c=>d(r)[t.id][2]=c,placeholder:"Teniendo en cuenta la sugerencia de la IA...",class:"block w-full px-5 py-3 mt-2 text-gray-700 placeholder-gray-400 bg-white border border-gray-200 rounded-lg dark:placeholder-gray-600 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-700 focus:border-blue-400 dark:focus:border-blue-400 focus:ring-blue-400 focus:outline-none focus:ring focus:ring-opacity-40 text-justify"},null,40,ke),[[v,d(r)[t.id][2]]])])])])):(n(),l("div",we,[o("div",Ae,[o("label",{for:t.id,class:"rounded-2xl px-10 text-gray-500 text-xl font-bold dark:text-gray-400 shadow-sm bg-gradient-to-r from-gray-50 via-gray-100 to-sky-100 mb-2"},g(t.etiqueta),9,Se),o("div",Ce,[b(o("textarea",{id:t.id,onFocus:c=>e.campoActivo=t.id,rows:"4",cols:"33",onBlur:s[5]||(s[5]=c=>e.campoActivo=null),"onUpdate:modelValue":c=>d(r)[t.id][0]=c,class:"block w-full px-5 py-3 mt-2 text-gray-700 placeholder-gray-400 bg-white border border-gray-200 rounded-lg dark:placeholder-gray-600 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-700 focus:border-blue-400 dark:focus:border-blue-400 focus:ring-blue-400 focus:outline-none focus:ring focus:ring-opacity-40"},null,40,Te),[[v,d(r)[t.id][0]]]),e.campoActivo===t.id&&d(r)[t.id][0]==""?(n(),l("div",Re," Puede preguntar a la IA, haciendo click en Generar o Refinar ")):m("",!0)])])])),t.id=="Resumen"||t.id=="Introduccion"||t.id=="Metodologia"||t.id=="Discusion"||t.id=="Conclusiones"?(n(),l("div",je,[o("div",Ve,[e.errorCarrera[0]?(n(),l("p",Ne,g(e.errorCarrera[0]),1)):m("",!0)]),o("div",qe,[e.restarAlToken&&e.restarAlToken!=0?(n(),l("p",Ie,"Se consumiÃ³: "+g(e.restarAlToken)+" token",1)):m("",!0)]),f(O,{class:F([{"opacity-25":e.mostrarLoader},"ml-3 mt-1 px-10 py-3 outline outline-offset-2 ring-2 ring-green-700"]),disabled:e.mostrarLoader,onClick:c=>C(d(r)[t.id][2]?d(r)[t.id][2]:d(r)[t.id][0],t.id)},{default:p(()=>[x(g(e.mostrarLoader?"Revisando...":"Revisar"),1)]),_:2},1032,["class","disabled","onClick"]),o("div",Me,[e.mostrarLoader?(n(),P(D,{key:0})):m("",!0)]),o("div",Le,[e.errorCarrera[t.id]?(n(),l("p",Fe,g(e.errorCarrera[t.id]),1)):m("",!0)])])):m("",!0),Pe]))),128)),o("div",Ue,[o("button",{onClick:T,class:"w-1/3 item-center px-6 py-3 mt-4 text-sm font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-sky-500 rounded-lg hover:bg-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-50"}," Actualizar "),o("button",{type:"button",onClick:S,class:"w-1/3 hover:bg-green-500 item-center px-6 py-3 mt-4 text-sm font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-sky-800 rounded-lg focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-50"}," Ir al Inicio"),f(d(h),{href:a.route("Articulo.index"),class:"w-1/3 item-center px-6 py-3 mt-4 text-sm font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-black rounded-lg hover:bg-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-50"},{default:p(()=>[x(" Regresar ")]),_:1},8,["href"])])])],32)]),ze])],64)}}};export{He as default};
