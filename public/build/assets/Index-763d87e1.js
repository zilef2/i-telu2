import{r as P,J as V,h as D,O as B,i as N,c,a,u as d,b as h,F as g,p as z,o as n,X as T,d as t,j as y,k as v,e as A,t as p,l as m,m as i,g as E,q as F,s as M}from"./app-6467c706.js";import{_ as q}from"./AuthenticatedLayout-6da35bc8.js";import{_ as H}from"./Breadcrumb-26092690.js";import{_ as J}from"./TextInput-d4362326.js";import{_ as L}from"./PrimaryButton-037173fe.js";import{_ as w}from"./SelectInput-a92191a9.js";import{_ as x}from"./DangerButton-180b4b60.js";import{_ as R}from"./Pagination-11770208.js";import{T as S,C as u,P as X}from"./index-b72a4a48.js";import G from"./Create-ba61281d.js";import K from"./Edit-b3e2dc85.js";import Q from"./Delete-bea0d945.js";import W from"./DeleteBulk-ace57a23.js";import{_ as Y}from"./Checkbox-ea56e211.js";import{_ as Z}from"./InfoButton-4b9404f5.js";import"./index-156de5d7.js";import{v as ee}from"./global-8f2c086a.js";import"./index-23384e0f.js";import"./InputError-0260cbdd.js";import"./InputLabel-04b443e6.js";import"./SecondaryButton-b7ca80cc.js";const te={class:"space-y-4"},se={class:"px-4 sm:px-0"},oe={class:"rounded-lg overflow-hidden w-fit"},re={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},le={class:"flex justify-between p-2"},ae={class:"flex space-x-2"},ne={class:"bg-gray-100"},de={class:"overflow-x-auto scrollbar-table"},ie={class:"w-full"},ce={class:"uppercase text-sm border-t border-gray-200 dark:border-gray-700"},pe={class:"dark:bg-gray-900 text-left"},me={class:"px-2 py-4 text-center"},ue={key:0,class:"px-2 py-4 cursor-pointer hover:bg-sky-50 dark:hover:bg-sky-800"},fe={class:"flex justify-between items-center"},be=t("span",null," Acciones ",-1),he={class:"flex justify-between items-center"},ye=t("span",null," # ",-1),_e={class:"flex justify-between items-center"},ke=t("span",null," Nombre ",-1),ge={class:"flex justify-between items-center"},ve=t("span",null," Resultado aprendizaje ",-1),we={class:"flex justify-between items-center"},xe={class:"flex justify-between items-center"},Se=t("span",null," Observaciones ",-1),Ce={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},Ue=["value"],$e={key:0,class:"whitespace-nowrap py-4 px-2 sm:py-3"},Oe={class:"flex justify-start items-center"},Ie={class:"rounded-md overflow-hidden"},je={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Pe={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ve={key:1,class:"whitespace-nowrap py-4 px-2 sm:py-3"},De={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Be={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ne={class:"flex justify-betwween items-center p-2 border-t border-gray-200 dark:border-gray-700"},ot={__name:"Index",props:{title:String,filters:Object,breadcrumbs:Object,perPage:Number,fromController:Object,UnidadsSelect:Object,numberPermissions:Number},setup(_){const l=_,{_:C,debounce:U,pickBy:$}=z,e=P({params:{search:l.filters.search,field:l.filters.field,order:l.filters.order,selectedUnidadID:l.filters.selectedUnidadID,perPage:l.perPage},selectedId:[],multipleSelect:!1,createOpen:!1,editOpen:!1,deleteOpen:!1,deleteBulkOpen:!1,generico:null,dataSet:V().props.app.perpage,UnidadsSelect:null,stringDesdePHP:""}),f=r=>{console.log("ðŸ§ˆ debu field:",r),e.params.field=r.replace(/ /g,"_"),e.params.order=e.params.order==="asc"?"desc":"asc"};D(()=>C.cloneDeep(e.params),U(()=>{let r=$(e.params);B.get(route("subtopico.index"),r,{replace:!0,preserveState:!0,preserveScroll:!0})},150));const O=r=>{var s;r.target.checked===!1?e.selectedId=[]:(s=l.fromController)==null||s.data.forEach(b=>{e.selectedId.push(b.id)})},I=()=>{var r;((r=l.fromController)==null?void 0:r.data.length)==e.selectedId.length?e.multipleSelect=!0:e.multipleSelect=!1};return N(()=>{(typeof e.params.selectedUnidadID>"u"||e.params.selectedUnidadID===null)&&(e.params.selectedUnidadID=0),e.UnidadsSelect=ee(e.UnidadsSelect,l.UnidadsSelect,"una Unidad",!0)}),(r,s)=>{const b=M("tooltip");return n(),c(g,null,[a(d(T),{title:l.title},null,8,["title"]),a(q,null,{default:h(()=>[a(H,{title:_.title,breadcrumbs:_.breadcrumbs},null,8,["title","breadcrumbs"]),t("div",te,[t("div",se,[t("div",oe,[y(a(L,{class:"rounded-none",onClick:s[0]||(s[0]=o=>e.createOpen=!0)},{default:h(()=>[A(p(r.lang().button.add),1)]),_:1},512),[[v,r.can(["create subtopico"])]]),r.can(["create subtopico"])?(n(),m(G,{key:0,show:e.createOpen,onClose:s[1]||(s[1]=o=>e.createOpen=!1),title:l.title,UnidadsSelect:e.UnidadsSelect},null,8,["show","title","UnidadsSelect"])):i("",!0),r.can(["update subtopico"])?(n(),m(K,{key:1,show:e.editOpen,onClose:s[2]||(s[2]=o=>e.editOpen=!1),subtopico:e.generico,title:l.title,UnidadsSelect:e.UnidadsSelect},null,8,["show","subtopico","title","UnidadsSelect"])):i("",!0),r.can(["delete subtopico"])?(n(),m(Q,{key:2,show:e.deleteOpen,onClose:s[3]||(s[3]=o=>e.deleteOpen=!1),subtopico:e.generico,title:l.title},null,8,["show","subtopico","title"])):i("",!0),a(W,{show:e.deleteBulkOpen,onClose:s[4]||(s[4]=o=>(e.deleteBulkOpen=!1,e.multipleSelect=!1,e.selectedId=[])),selectedId:e.selectedId,title:l.title},null,8,["show","selectedId","title"])])]),t("div",re,[t("div",le,[t("div",ae,[a(w,{modelValue:e.params.perPage,"onUpdate:modelValue":s[5]||(s[5]=o=>e.params.perPage=o),dataSet:e.dataSet},null,8,["modelValue","dataSet"]),y((n(),m(x,{onClick:s[6]||(s[6]=o=>e.deleteBulkOpen=!0),class:"px-3 py-1.5"},{default:h(()=>[a(d(S),{class:"w-5 h-5"})]),_:1})),[[v,e.selectedId.length!=0],[b,r.lang().tooltip.delete_selected]]),t("div",ne,[a(w,{modelValue:e.params.selectedUnidadID,"onUpdate:modelValue":s[7]||(s[7]=o=>e.params.selectedUnidadID=o),id:"uni",dataSet:e.UnidadsSelect},null,8,["modelValue","dataSet"])])]),l.numberPermissions>1?(n(),m(J,{key:0,modelValue:e.params.search,"onUpdate:modelValue":s[8]||(s[8]=o=>e.params.search=o),type:"text",class:"block w-3/6 md:w-2/6 lg:w-1/6 rounded-lg",placeholder:r.lang().placeholder.search},null,8,["modelValue","placeholder"])):i("",!0)]),t("div",de,[t("table",ie,[t("thead",ce,[t("tr",pe,[t("th",me,[a(Y,{checked:e.multipleSelect,"onUpdate:checked":s[9]||(s[9]=o=>e.multipleSelect=o),onChange:O},null,8,["checked"])]),l.numberPermissions>1?(n(),c("th",ue,[t("div",fe,[be,a(d(u),{class:"w-4 h-4"})])])):i("",!0),t("th",{onClick:s[10]||(s[10]=o=>f("enum")),class:"px-2 py-4 cursor-pointer hover:bg-sky-50 dark:hover:bg-sky-800"},[t("div",he,[ye,a(d(u),{class:"w-4 h-4"})])]),t("th",{onClick:s[11]||(s[11]=o=>f("nombre")),class:"px-2 py-4 cursor-pointer hover:bg-sky-50 dark:hover:bg-sky-800"},[t("div",_e,[ke,a(d(u),{class:"w-4 h-4"})])]),l.numberPermissions>1?(n(),c("th",{key:1,onClick:s[12]||(s[12]=o=>f("resultado_aprendizaje")),class:"px-2 py-4 cursor-pointer hover:bg-sky-50 dark:hover:bg-sky-800"},[t("div",ge,[ve,a(d(u),{class:"w-4 h-4"})])])):i("",!0),t("th",{onClick:s[13]||(s[13]=o=>f("nombre")),class:"px-2 py-4 cursor-pointer hover:bg-sky-50 dark:hover:bg-sky-800"},[t("div",we,[t("span",null,p(r.lang().label.Unidad),1),a(d(u),{class:"w-4 h-4"})])]),t("th",{onClick:s[14]||(s[14]=o=>f("observaciones")),class:"px-2 py-4 cursor-pointer hover:bg-sky-50 dark:hover:bg-sky-800"},[t("div",xe,[Se,a(d(u),{class:"w-4 h-4"})])])])]),t("tbody",null,[(n(!0),c(g,null,E(_.fromController.data,(o,j)=>(n(),c("tr",{key:j,class:"border-t border-gray-200 dark:border-gray-700 hover:bg-gray-200/30 hover:dark:bg-gray-900/20"},[t("td",Ce,[y(t("input",{type:"checkbox",onChange:I,value:o.id,"onUpdate:modelValue":s[15]||(s[15]=k=>e.selectedId=k),class:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-primary dark:text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-gray-800 dark:checked:bg-primary dark:checked:border-primary"},null,40,Ue),[[F,e.selectedId]])]),l.numberPermissions>1?(n(),c("td",$e,[t("div",Oe,[t("div",Ie,[y((n(),m(Z,{type:"button",onClick:k=>(e.editOpen=!0,e.generico=o),class:"px-2 py-1.5 rounded-none"},{default:h(()=>[a(d(X),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[b,r.lang().tooltip.edit]]),y((n(),m(x,{type:"button",onClick:k=>(e.deleteOpen=!0,e.generico=o),class:"px-2 py-1.5 rounded-none"},{default:h(()=>[a(d(S),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[b,r.lang().tooltip.delete]])])])])):i("",!0),t("td",je,p(o.enum),1),t("td",Pe,p(o.nombre),1),l.numberPermissions>1?(n(),c("td",Ve,p(o.resultado_aprendizaje),1)):i("",!0),t("td",De,p(o.hijo),1),t("td",Be,p(o.descripcion),1)]))),128))])])]),t("div",Ne,[a(R,{links:l.fromController,filters:e.params},null,8,["links","filters"])])])])]),_:1})],64)}}};export{ot as default};
