import{H as M,r as T,J as E,a as A,O as S,o as N,bE as q,c as d,b as o,u as n,f as p,F as h,x as z,k as l,X as H,d as a,s as b,l as O,t as c,g as u,m as $,y as U,h as C,q as J,B as F}from"./app-e4aec783.js";import{_ as L,S as Y,q as X,h as P,U as G,Y as K}from"./AuthenticatedLayout-262f04fb.js";import{_ as Q}from"./Breadcrumb-3bf15452.js";import{_ as R}from"./TextInput-0d3578f0.js";import{_ as W}from"./PrimaryButton-62c6067b.js";import{_ as V}from"./SelectInput-e07a183c.js";import{_ as Z}from"./DangerButton-b3b2af7b.js";import{_ as ee}from"./Pagination-461d5218.js";import{T as te,a as ae}from"./index-1d64f8a7.js";import se from"./Create-1716f95f.js";import re from"./Edit-a5ee56ad.js";import oe from"./Delete-6bf0b17b.js";import{_ as le}from"./GroupButtonsIndex-3c86dd21.js";import"./index-c5c5be5a.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Toast-501ce206.js";import"./InputError-ff01e7fb.js";import"./InputLabel-776359c0.js";import"./Modal-d321b06e.js";/* empty css                   */const ie={class:"space-y-4"},ne={class:"px-4 sm:px-0"},de={class:"rounded-lg overflow-hidden w-fit"},pe={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},me={class:"flex justify-between p-2"},ce={class:"flex space-x-2"},ue={class:"bg-gray-100"},fe={class:"overflow-x-auto scrollbar-table"},be={class:"w-full"},ve={class:"uppercase text-sm border-t border-gray-200 dark:border-gray-700"},_e={class:"dark:bg-gray-900 text-left"},ye=["onClick"],he={key:0,class:"flex items-center"},we={class:"text-center"},xe={key:1,class:"flex items-center text-center"},ge={class:"text-center"},ke={key:0,class:"whitespace-nowrap py-4 px-6 sm:py-3 w-20"},Se={class:"flex justify-start items-center"},Oe={class:"rounded-md overflow-hidden"},$e={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ue={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ce={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Pe={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ve={key:1,class:"whitespace-nowrap py-4 px-2 sm:py-3"},je={class:"flex justify-betwween items-center p-2 border-t border-gray-200 dark:border-gray-700"},Ie=a("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),Be={class:"fixed inset-0 overflow-y-auto"},De={class:"flex min-h-full items-center justify-center p-4 text-center"},Me=a("div",{class:"mt-2"},[a("p",{class:"text-sm text-gray-500"}," Esta carrera no tiene Asignaturas/materias inscritas ")],-1),at={__name:"Index",props:{title:String,filters:Object,breadcrumbs:Object,perPage:Number,fromController:Object,PapaSelect:Object,nombresTabla:Array,numberPermissions:Number,UniversidadSelect:Object},setup(m){var k;const i=m,v=M(!1);function w(){v.value=!1}const{_:j,debounce:I,pickBy:x}=z,t=T({params:{search:i.filters.search,field:i.filters.field,order:i.filters.order,perPage:i.perPage,selectedUniID:i.filters.selectedUniID},params2:{selectedcarr:0},selectedId:[],multipleSelect:!1,createOpen:!1,editOpen:!1,deleteOpen:!1,deleteBulkOpen:!1,generico:null,dataSet:E().props.app.perpage}),B=s=>{s&&(t.params.field=s.replace(/ /g,"_")),t.params.order=t.params.order==="asc"?"desc":"asc"};A(()=>j.cloneDeep(t.params),I(()=>{let s=x(t.params);S.get(route("carrera.index"),s,{replace:!0,preserveState:!0,preserveScroll:!0})},150)),N(()=>{t.UniversidadSelect=q(t.UniversidadSelect,i.UniversidadSelect,"una")});const D=(s,r,_)=>{if(_>0){t.params2.selectedUni=s,t.params2.selectedcarr=r;let e=x(t.params2);S.get(route("materia.index"),e,{replace:!0,preserveState:!0,preserveScroll:!0})}else v.value=!0},g=(k=i.PapaSelect)==null?void 0:k.map(s=>({label:s.nombre,value:s.id}));return(s,r)=>{const _=F("tooltip");return l(),d(h,null,[o(n(H),{title:i.title},null,8,["title"]),o(L,null,{default:p(()=>[o(Q,{title:m.title,breadcrumbs:m.breadcrumbs},null,8,["title","breadcrumbs"]),a("div",ie,[a("div",ne,[a("div",de,[s.can(["create carrera"])?(l(),b(W,{key:0,class:"rounded-none",onClick:r[0]||(r[0]=e=>t.createOpen=!0)},{default:p(()=>[O(c(s.lang().button.add),1)]),_:1})):u("",!0),s.can(["create carrera"])?(l(),b(se,{key:1,show:t.createOpen,onClose:r[1]||(r[1]=e=>t.createOpen=!1),title:i.title,PapaSelect:n(g)},null,8,["show","title","PapaSelect"])):u("",!0),s.can(["update carrera"])?(l(),b(re,{key:2,show:t.editOpen,onClose:r[2]||(r[2]=e=>t.editOpen=!1),carrera:t.generico,title:i.title,PapaSelect:n(g)},null,8,["show","carrera","title","PapaSelect"])):u("",!0),s.can(["delete carrera"])?(l(),b(oe,{key:3,show:t.deleteOpen,onClose:r[3]||(r[3]=e=>t.deleteOpen=!1),carrera:t.generico,title:i.title},null,8,["show","carrera","title"])):u("",!0)])]),a("div",pe,[a("div",me,[a("div",ce,[o(V,{modelValue:t.params.perPage,"onUpdate:modelValue":r[4]||(r[4]=e=>t.params.perPage=e),dataSet:t.dataSet,id:"perpag"},null,8,["modelValue","dataSet"]),$((l(),b(Z,{onClick:r[5]||(r[5]=e=>t.deleteBulkOpen=!0),class:"px-3 py-1.5"},{default:p(()=>[o(n(te),{class:"w-5 h-5"})]),_:1})),[[U,t.selectedId.length!=0],[_,s.lang().tooltip.delete_selected]]),a("div",ue,[o(V,{modelValue:t.params.selectedUniID,"onUpdate:modelValue":r[6]||(r[6]=e=>t.params.selectedUniID=e),id:"uni",dataSet:t.UniversidadSelect},null,8,["modelValue","dataSet"])])]),i.numberPermissions>1?(l(),b(R,{key:0,modelValue:t.params.search,"onUpdate:modelValue":r[7]||(r[7]=e=>t.params.search=e),type:"text",id:"buscar",class:"block w-3/6 md:w-2/6 lg:w-1/6 rounded-lg",placeholder:s.lang().placeholder.search},null,8,["modelValue","placeholder"])):u("",!0)]),a("div",fe,[a("table",be,[a("thead",ve,[a("tr",_e,[(l(!0),d(h,null,C(m.nombresTabla[0],(e,f)=>(l(),d("th",{key:f,onClick:y=>B(m.nombresTabla[2][f]),class:"px-8 py-4 cursor-pointer hover:bg-sky-50 dark:hover:bg-sky-800"},[m.nombresTabla[2][f]!==null?(l(),d("div",he,[a("span",we,c(e),1),o(n(ae),{class:"w-4 h-4"})])):(l(),d("div",xe,[a("span",ge,c(e),1)]))],8,ye))),128))])]),a("tbody",null,[(l(!0),d(h,null,C(m.fromController.data,(e,f)=>(l(),d("tr",{key:f,class:J(["border-t border-gray-200 dark:border-gray-700 hover:bg-gray-200/30 hover:dark:bg-gray-900/20",f%2==0?"bg-gray-100 dark:bg-gray-800":""])},[m.numberPermissions>3?(l(),d("td",ke,[a("div",Se,[a("div",Oe,[$(o(le,{visualizar:["Editar","Borrar","Matricular","Ver","Mapa"],ruta:"carrera.AsignarUsers",rutaMapa:"carrera.Mapa",id1:e.id,onEditar:y=>(t.editOpen=!0,t.generico=e),onJustdelete:y=>(t.deleteOpen=!0,t.generico=e),onIrHijo:y=>D(e.universidad_id,e.id,e.cuantasMaterias)},null,8,["ruta","rutaMapa","id1","onEditar","onJustdelete","onIrHijo"]),[[U,s.can(["isAdmin"])]])])])])):u("",!0),a("td",$e,c(e==null?void 0:e.enum),1),a("td",Ue,c(e==null?void 0:e.nombre),1),a("td",Ce,c(e==null?void 0:e.codigo),1),a("td",Pe,c(e==null?void 0:e.hijo),1),i.numberPermissions>3?(l(),d("td",Ve,c(e==null?void 0:e.cuantosUs),1)):u("",!0)],2))),128))])])]),a("div",je,[o(ee,{links:i.fromController,filters:t.params},null,8,["links","filters"])])])]),a("template",null,[o(n(Y),{appear:"",show:v.value,as:"template"},{default:p(()=>[o(n(X),{as:"div",onClose:w,class:"relative z-10"},{default:p(()=>[o(n(P),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:p(()=>[Ie]),_:1}),a("div",Be,[a("div",De,[o(n(P),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:p(()=>[o(n(G),{class:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:p(()=>[o(n(K),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:p(()=>[O(" Sin Asignaturas ")]),_:1}),Me,a("div",{class:"mt-4"},[a("button",{type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",onClick:w}," Listo ")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])]),_:1})],64)}}};export{at as default};
