import{r as T,J as B,a as N,O as M,w as H,o as E,bE as O,c as m,b as i,u as n,f as d,F as g,x as G,k as a,X as L,d as t,s as p,l as _,t as f,g as c,m as h,y as A,h as j,n as S,P as F,B as Y}from"./app-e4aec783.js";import{_ as z,S as J,q as X,h as C,U as K,Y as Q}from"./AuthenticatedLayout-262f04fb.js";import{_ as W}from"./Breadcrumb-3bf15452.js";import{_ as Z}from"./TextInput-0d3578f0.js";import{_ as $}from"./PrimaryButton-62c6067b.js";import{_ as k}from"./SelectInput-e07a183c.js";import{_ as V}from"./DangerButton-b3b2af7b.js";import{_ as ee}from"./Pagination-461d5218.js";import{T as P,a as te,P as se,o as ae,p as re,q as oe}from"./index-1d64f8a7.js";import le from"./Create-6fa26b5d.js";import ie from"./Edit-8018d716.js";import ne from"./Delete-2818bb0c.js";import de from"./generarTodo-d59bfc18.js";import{_ as v}from"./InfoButton-fdfad07d.js";import{_ as ce}from"./superButton-6ad6dab3.js";import"./index-c5c5be5a.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Toast-501ce206.js";import"./InputError-ff01e7fb.js";import"./InputLabel-776359c0.js";import"./Modal-d321b06e.js";import"./GreenButton-44a265c4.js";/* empty css                                                  */const me={key:0,class:""},pe=["innerHTML"],ue={key:1,class:"space-y-4"},fe={class:"px-4 sm:px-0"},ye={class:"rounded-lg overflow-hidden w-fit"},he={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},be={class:"flex justify-between p-2"},_e={key:0,class:"flex space-x-2"},ve={class:"bg-gray-100"},we={key:1,class:"bg-gray-100"},ge={class:"overflow-x-auto scrollbar-table"},Se={class:"w-full"},ke={class:"uppercase text-sm border-t border-gray-200 dark:border-gray-700"},xe={class:"dark:bg-gray-900 text-left"},Ue=["onClick"],Me={class:"flex justify-between items-center"},Oe={key:0,class:"whitespace-nowrap py-4 px-2 sm:py-3"},je={class:"flex justify-start items-center"},Ce={class:"rounded-md overflow-hidden"},$e={key:1,class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ve={class:"flex justify-start items-center ml-6"},Pe={class:"rounded-md overflow-hidden"},De={class:"whitespace-nowrap py-4 px-2 sm:py-3"},qe={key:0,class:"flex justify-start items-center"},Ie={class:"rounded-md overflow-hidden"},Re={key:1,class:"flex justify-start items-center"},Te=t("div",{class:"rounded-md overflow-hidden"}," Sin información ",-1),Be=[Te],Ne={class:"whitespace-nowrap py-4 px-2 sm:py-3"},He={class:"flex justify-start items-center"},Ee={class:"rounded-md overflow-hidden"},Ge={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-sm text-gay-600"},Le={class:"whitespace-nowrap py-4 px-2 sm:py-3 underline text-sky-700"},Ae={key:0},Fe={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-sm text-gay-600"},Ye={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-sm text-gay-600"},ze={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-sm text-gay-600"},Je={key:2,class:"whitespace-nowrap py-4 px-2 sm:py-3"},Xe={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ke={class:"whitespace-wrap break-words text-sm py-4 px-0"},Qe={class:"flex justify-betwween items-center p-2 border-t border-gray-200 dark:border-gray-700"},We=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),Ze={class:"fixed inset-0 overflow-y-auto"},et={class:"flex min-h-full items-center justify-center p-4 text-center"},tt=t("div",{class:"mt-2"},[t("p",{class:"text-sm text-gray-500"}," Esta asignatura no tiene unidades ")],-1),Ut={__name:"Index",props:{title:String,filters:Object,breadcrumbs:Object,perPage:Number,fromController:Object,nombresTabla:Object,respuest:String,errorMessage:String,carrerasSelect:Object,MateriasRequisitoSelect:Object,UniversidadSelect:Object,numberPermissions:Number,ValoresGenerarMateria:Object},setup(u){const l=u,{_:D,debounce:q,pickBy:x}=G,e=T({params:{search:l.filters.search,field:l.filters.field,order:l.filters.order,selectedUni:l.filters.selectedUni,perPage:l.perPage,selectedcarr:l.filters.selectedcarr},params2:{selectedMatID:0},selectedId:[],multipleSelect:!1,generarOpen:!1,createOpen:!1,editOpen:!1,deleteOpen:!1,deleteBulkOpen:!1,generico:0,dataSet:B().props.app.perpage,UniversidadSelect:[],carrerasDeUSel:[],MateriasRequisitoSelect:[],numeroCarreras:0,MessageNoHijos:!1});function U(){e.MessageNoHijos=!1}const I=(o,r)=>{if(console.log("🧈 debu cuantas:",r),r>0){e.params2.selectedMatID=o;let y=x(e.params2);M.get(route("Unidad.index"),y,{replace:!0,preserveState:!0,preserveScroll:!0})}else e.MessageNoHijos=!0},R=o=>{e.params.field=o.replace(/ /g,"_"),e.params.order=e.params.order==="asc"?"desc":"asc"};return N(()=>D.cloneDeep(e.params),q(()=>{let o=x(e.params);M.get(route("materia.index"),o,{replace:!0,preserveState:!0,preserveScroll:!0})},10)),H(()=>{var o;e.carrerasDeUSel=(o=l.carrerasSelect)==null?void 0:o.map(r=>({label:r.nombre,value:r.id})),e.carrerasDeUSel.unshift({label:"Seleccione carrera",value:0}),(typeof e.params.selectedUni>"u"||typeof e.params.selectedUni=="object")&&(e.params.selectedUni="0")}),E(()=>{(typeof e.params.selectedcarr>"u"||e.params.selectedcarr===null)&&(e.params.selectedcarr=0),e.UniversidadSelect=O(e.UniversidadSelect,l.UniversidadSelect,"una"),e.carrerasDeUSel=O(e.carrerasDeUSel,l.carrerasSelect,"una")}),(o,r)=>{const y=Y("tooltip");return a(),m(g,null,[i(n(L),{title:l.title},null,8,["title"]),i(z,null,{default:d(()=>[i(W,{title:u.title,breadcrumbs:u.breadcrumbs},null,8,["title","breadcrumbs"]),u.errorMessage?(a(),m("div",me,[t("p",{class:"text-xl text-red-500 bg-red-100",innerHTML:u.errorMessage},null,8,pe)])):(a(),m("div",ue,[t("div",fe,[t("div",ye,[o.can(["create materia"])?(a(),p($,{key:0,class:"rounded-none",onClick:r[0]||(r[0]=s=>e.createOpen=!0)},{default:d(()=>[_(f(o.lang().button.add),1)]),_:1})):c("",!0),o.can(["create materia"])?(a(),p($,{key:1,class:"rounded-none",onClick:r[1]||(r[1]=s=>e.generarOpen=!0)},{default:d(()=>[_(" Generar Materia ")]),_:1})):c("",!0),o.can(["create materia"])?(a(),p(de,{key:2,show:e.generarOpen,onClose:r[2]||(r[2]=s=>e.generarOpen=!1),title:l.title,carrerasSelect:e.carrerasDeUSel,ValoresGenerarMateria:l.ValoresGenerarMateria,MateriasRequisitoSelect:l.MateriasRequisitoSelect},null,8,["show","title","carrerasSelect","ValoresGenerarMateria","MateriasRequisitoSelect"])):c("",!0),o.can(["create materia"])?(a(),p(le,{key:3,show:e.createOpen,onClose:r[3]||(r[3]=s=>e.createOpen=!1),title:l.title,carrerasSelect:e.carrerasDeUSel,MateriasRequisitoSelect:l.MateriasRequisitoSelect},null,8,["show","title","carrerasSelect","MateriasRequisitoSelect"])):c("",!0),o.can(["update materia"])?(a(),p(ie,{key:4,show:e.editOpen,onClose:r[4]||(r[4]=s=>e.editOpen=!1),materia:e.generico,title:l.title,carrerasSelect:e.carrerasDeUSel,MateriasRequisitoSelect:l.MateriasRequisitoSelect,numberPermissions:l.numberPermissions},null,8,["show","materia","title","carrerasSelect","MateriasRequisitoSelect","numberPermissions"])):c("",!0),o.can(["delete materia"])?(a(),p(ne,{key:5,show:e.deleteOpen,onClose:r[5]||(r[5]=s=>e.deleteOpen=!1),materia:e.generico,title:l.title},null,8,["show","materia","title"])):c("",!0)])]),t("div",he,[t("div",be,[l.numberPermissions>1?(a(),m("div",_e,[i(k,{modelValue:e.params.perPage,"onUpdate:modelValue":r[6]||(r[6]=s=>e.params.perPage=s),dataSet:e.dataSet},null,8,["modelValue","dataSet"]),o.can(["delete materia"])?h((a(),p(V,{key:0,onClick:r[7]||(r[7]=s=>e.deleteBulkOpen=!0),class:"px-3 py-1.5"},{default:d(()=>[i(n(P),{class:"w-5 h-5"})]),_:1})),[[A,e.selectedId.length!=0],[y,o.lang().tooltip.delete_selected]]):c("",!0),t("div",ve,[i(k,{modelValue:e.params.selectedUni,"onUpdate:modelValue":r[8]||(r[8]=s=>e.params.selectedUni=s),id:"uni",dataSet:e.UniversidadSelect},null,8,["modelValue","dataSet"])]),e.params.selectedUni!=0&&l.numberPermissions>1?(a(),m("div",we,[i(k,{modelValue:e.params.selectedcarr,"onUpdate:modelValue":r[9]||(r[9]=s=>e.params.selectedcarr=s),id:"carrer",dataSet:e.carrerasDeUSel},null,8,["modelValue","dataSet"])])):c("",!0)])):c("",!0),o.can(["create materia"])?(a(),p(Z,{key:1,modelValue:e.params.search,"onUpdate:modelValue":r[10]||(r[10]=s=>e.params.search=s),type:"text",class:"block w-3/6 md:w-2/6 lg:w-1/6 rounded-lg",placeholder:o.lang().placeholder.search},null,8,["modelValue","placeholder"])):c("",!0)]),t("div",ge,[t("table",Se,[t("thead",ke,[t("tr",xe,[(a(!0),m(g,null,j(u.nombresTabla[0],(s,b)=>(a(),m("th",{key:b,onClick:w=>R(u.nombresTabla[2][b]),class:"px-2 py-4 cursor-pointer hover:bg-sky-50 dark:hover:bg-sky-800"},[t("div",Me,[t("span",null,f(s),1),u.nombresTabla[2][b]!==null?(a(),p(n(te),{key:0,class:"w-4 h-4"})):c("",!0)])],8,Ue))),128))])]),t("tbody",null,[(a(!0),m(g,null,j(u.fromController.data,(s,b)=>(a(),m("tr",{key:b,class:"border-t border-gray-200 dark:border-gray-700 hover:bg-gray-200/30 hover:dark:bg-gray-900/20"},[u.numberPermissions>1?(a(),m("td",Oe,[t("div",je,[t("div",Ce,[h((a(),p(v,{type:"button",onClick:w=>(e.editOpen=!0,e.generico=s),class:"px-2 py-1.5 rounded-none"},{default:d(()=>[i(n(se),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[y,o.lang().tooltip.edit]]),l.numberPermissions>3?h((a(),p(V,{key:0,type:"button",onClick:w=>(e.deleteOpen=!0,e.generico=s),class:"px-2 py-1.5 rounded-none"},{default:d(()=>[i(n(P),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[y,o.lang().tooltip.delete]]):c("",!0),h((a(),p(v,{type:"button",onClick:w=>I(s.id,s.cuantoshijos),class:"px-2 py-1.5 rounded-none"},{default:d(()=>[i(n(ae),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[y,"Ver temas"]])])])])):c("",!0),u.numberPermissions>2?(a(),m("td",$e,[t("div",Ve,[t("div",Pe,[i(n(S),{href:o.route("materia.AsignarUsers",s.id)},{default:d(()=>[h((a(),p(v,{type:"button",class:"py-1.5 rounded-none"},{default:d(()=>[i(n(re),{class:"w-7 h-7 px-0.5"})]),_:1})),[[y,o.lang().tooltip.inscribir]])]),_:2},1032,["href"])])])])):c("",!0),t("td",De,[s.cuantoshijos!=0?(a(),m("div",qe,[t("div",Ie,[i(ce,{type:"button",class:"rounded-lg",ruta:"materia.VistaTema",id1:s.id,texto:"Estudiar"},null,8,["ruta","id1"])])])):(a(),m("div",Re,Be))]),t("td",Ne,[t("div",He,[t("div",Ee,[i(n(S),{href:o.route("materia.Archivos",s.id)},{default:d(()=>[h((a(),p(v,{type:"button",class:"py-1.5 rounded-none"},{default:d(()=>[i(n(oe),{class:"w-7 h-7 px-0.5"})]),_:1})),[[y,o.lang().tooltip.archivos]])]),_:2},1032,["href"])])])]),t("td",Ge,f(s.enum),1),t("td",Le,[i(n(S),{href:o.route("materia.show",s.id)},{default:d(()=>[s.activa?(a(),m("small",Ae,"♻️")):c("",!0),_(" "+f(s.nombre),1)]),_:2},1032,["href"])]),t("td",Fe,f(s.codigo),1),t("td",Ye,f(s.papa),1),t("td",ze,f(s.cuantoshijos),1),l.numberPermissions>2?(a(),m("td",Je,f(s.muchos),1)):c("",!0),t("td",Xe,f(s.objetivs),1),t("td",Ke,f(n(F)(s.descripcion,11)),1)]))),128))])])]),t("div",Qe,[i(ee,{links:l.fromController,filters:e.params},null,8,["links","filters"])])])])),t("template",null,[i(n(J),{appear:"",show:e.MessageNoHijos,as:"template"},{default:d(()=>[i(n(X),{as:"div",onClose:U,class:"relative z-10"},{default:d(()=>[i(n(C),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:d(()=>[We]),_:1}),t("div",Ze,[t("div",et,[i(n(C),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:d(()=>[i(n(K),{class:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:d(()=>[i(n(Q),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:d(()=>[_(" Sin Unidades ")]),_:1}),tt,t("div",{class:"mt-4"},[t("button",{type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",onClick:U}," Listo ")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])]),_:1})],64)}}};export{Ut as default};
