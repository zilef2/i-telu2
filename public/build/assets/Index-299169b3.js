import{r as V,J as j,a as B,O as P,c as b,b as r,u as i,f as c,F as k,x as D,k as d,X as N,d as t,m,y as h,l as U,t as n,s as _,g as A,h as T,A as E,B as F}from"./app-8190fc74.js";import{_ as G}from"./AuthenticatedLayout-d2a8c51d.js";import{_ as J}from"./Breadcrumb-31fbe063.js";import{_ as L}from"./TextInput-100d83c4.js";import{_ as M}from"./PrimaryButton-ea2d3d80.js";import{_ as X}from"./SelectInput-1ca4357c.js";import{_ as v}from"./DangerButton-7b937436.js";import{_ as q}from"./Pagination-048820d3.js";import{T as x,a as y,P as z}from"./index-c7a22da3.js";import H from"./Create-511d39f9.js";import K from"./Edit-1168f4fe.js";import Q from"./Delete-f067764a.js";import R from"./DeleteBulk-4d43310c.js";import{_ as W}from"./Checkbox-d34488cd.js";import{_ as Y}from"./InfoButton-c8303f2a.js";import"./index-d56bdc70.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Toast-095c7b20.js";import"./InputError-1b18cc94.js";import"./InputLabel-668bb308.js";import"./Modal-41b4ce14.js";const Z={class:"space-y-4"},ee={class:"px-4 sm:px-0"},te={class:"rounded-lg overflow-hidden w-fit"},se={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},le={class:"flex justify-between p-2"},ae={class:"flex space-x-2"},re={class:"overflow-x-auto scrollbar-table"},oe={class:"w-full"},ne={class:"uppercase text-sm border-t border-gray-200 dark:border-gray-700"},ie={class:"dark:bg-gray-900/50 text-left"},de={class:"px-2 py-4 text-center"},pe=t("th",{class:"px-2 py-4 text-center"},"#",-1),ce={class:"flex justify-between items-center"},me={class:"flex justify-between items-center"},ue=t("span",null,"Guard",-1),fe={class:"flex justify-between items-center"},he={class:"flex justify-between items-center"},_e=t("th",{class:"px-2 py-4 sr-only"},"Action",-1),ye={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},ge=["value"],be={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},we={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ke={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ve={class:"whitespace-nowrap py-4 px-2 sm:py-3"},xe={class:"whitespace-nowrap py-4 px-2 sm:py-3"},$e={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Oe={class:"flex justify-center items-center"},Ce={class:"rounded-md overflow-hidden"},Ie={class:"flex justify-between items-center p-2 border-t border-gray-200 dark:border-gray-700"},Qe={__name:"Index",props:{title:String,filters:Object,permissions:Object,breadcrumbs:Object,perPage:Number},setup(u){const o=u,{_:$,debounce:O,pickBy:C}=D,e=V({params:{search:o.filters.search,field:o.filters.field,order:o.filters.order,perPage:o.perPage},selectedId:[],multipleSelect:!1,createOpen:!1,editOpen:!1,deleteOpen:!1,deleteBulkOpen:!1,permission:null,dataSet:j().props.app.perpage}),f=a=>{e.params.field=a,e.params.order=e.params.order==="asc"?"desc":"asc"};B(()=>$.cloneDeep(e.params),O(()=>{let a=C(e.params);P.get(route("permission.index"),a,{replace:!0,preserveState:!0,preserveScroll:!0})},150));const I=a=>{var s;a.target.checked===!1?e.selectedId=[]:(s=o.permissions)==null||s.data.forEach(p=>{e.selectedId.push(p.id)})},S=()=>{var a;((a=o.permissions)==null?void 0:a.data.length)==e.selectedId.length?e.multipleSelect=!0:e.multipleSelect=!1};return(a,s)=>{const p=F("tooltip");return d(),b(k,null,[r(i(N),{title:o.title},null,8,["title"]),r(G,null,{default:c(()=>[r(J,{title:u.title,breadcrumbs:u.breadcrumbs},null,8,["title","breadcrumbs"]),t("div",Z,[t("div",ee,[t("div",te,[m(r(M,{class:"rounded-none",onClick:s[0]||(s[0]=l=>e.createOpen=!0)},{default:c(()=>[U(n(a.lang().button.add),1)]),_:1},512),[[h,a.can(["create permission"])]]),r(H,{show:e.createOpen,onClose:s[1]||(s[1]=l=>e.createOpen=!1),title:o.title},null,8,["show","title"]),r(K,{show:e.editOpen,onClose:s[2]||(s[2]=l=>e.editOpen=!1),permission:e.permission,title:o.title},null,8,["show","permission","title"]),r(Q,{show:e.deleteOpen,onClose:s[3]||(s[3]=l=>e.deleteOpen=!1),permission:e.permission,title:o.title},null,8,["show","permission","title"]),r(R,{show:e.deleteBulkOpen,onClose:s[4]||(s[4]=l=>(e.deleteBulkOpen=!1,e.multipleSelect=!1,e.selectedId=[])),selectedId:e.selectedId,title:o.title},null,8,["show","selectedId","title"])])]),t("div",se,[t("div",le,[t("div",ae,[r(X,{modelValue:e.params.perPage,"onUpdate:modelValue":s[5]||(s[5]=l=>e.params.perPage=l),dataSet:e.dataSet},null,8,["modelValue","dataSet"]),m((d(),_(v,{onClick:s[6]||(s[6]=l=>e.deleteBulkOpen=!0),class:"px-3 py-1.5"},{default:c(()=>[r(i(x),{class:"w-5 h-5"})]),_:1})),[[h,e.selectedId.length!=0&&a.can(["delete permission"])],[p,a.lang().tooltip.delete_selected]])]),o.numberPermissions>1?(d(),_(L,{key:0,modelValue:e.params.search,"onUpdate:modelValue":s[7]||(s[7]=l=>e.params.search=l),type:"text",class:"block w-3/6 md:w-2/6 lg:w-1/6 rounded-lg",placeholder:a.lang().placeholder.search},null,8,["modelValue","placeholder"])):A("",!0)]),t("div",re,[t("table",oe,[t("thead",ne,[t("tr",ie,[t("th",de,[r(W,{checked:e.multipleSelect,"onUpdate:checked":s[8]||(s[8]=l=>e.multipleSelect=l),onChange:I},null,8,["checked"])]),pe,t("th",{class:"px-2 py-4 cursor-pointer",onClick:s[9]||(s[9]=l=>f("name"))},[t("div",ce,[t("span",null,n(a.lang().label.name),1),r(i(y),{class:"w-4 h-4"})])]),t("th",{class:"px-2 py-4 cursor-pointer",onClick:s[10]||(s[10]=l=>f("guard"))},[t("div",me,[ue,r(i(y),{class:"w-4 h-4"})])]),t("th",{class:"px-2 py-4 cursor-pointer",onClick:s[11]||(s[11]=l=>f("created_at"))},[t("div",fe,[t("span",null,n(a.lang().label.created),1),r(i(y),{class:"w-4 h-4"})])]),t("th",{class:"px-2 py-4 cursor-pointer",onClick:s[12]||(s[12]=l=>f("updated_at"))},[t("div",he,[t("span",null,n(a.lang().label.updated),1),r(i(y),{class:"w-4 h-4"})])]),_e])]),t("tbody",null,[(d(!0),b(k,null,T(u.permissions.data,(l,w)=>(d(),b("tr",{key:w,class:"border-t border-gray-200 dark:border-gray-700 hover:bg-gray-200/30 hover:dark:bg-gray-900/20"},[t("td",ye,[m(t("input",{class:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-primary dark:text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-gray-800 dark:checked:bg-primary dark:checked:border-primary",type:"checkbox",onChange:S,value:l.id,"onUpdate:modelValue":s[13]||(s[13]=g=>e.selectedId=g)},null,40,ge),[[E,e.selectedId]])]),t("td",be,n(++w),1),t("td",we,n(l.name),1),t("td",ke,n(l.guard_name),1),t("td",ve,n(l.created_at),1),t("td",xe,n(l.updated_at),1),t("td",$e,[t("div",Oe,[t("div",Ce,[m((d(),_(Y,{type:"button",onClick:g=>(e.editOpen=!0,e.permission=l),class:"px-2 py-1.5 rounded-none"},{default:c(()=>[r(i(z),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[h,a.can(["update permission"])],[p,a.lang().tooltip.edit]]),m((d(),_(v,{type:"button",onClick:g=>(e.deleteOpen=!0,e.permission=l),class:"px-2 py-1.5 rounded-none"},{default:c(()=>[r(i(x),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[h,a.can(["delete permission"])],[p,a.lang().tooltip.delete]])])])])]))),128))])])]),t("div",Ie,[r(q,{links:o.permissions,filters:e.params},null,8,["links","filters"])])])])]),_:1})],64)}}};export{Qe as default};
