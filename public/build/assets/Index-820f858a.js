import{k as V,J as j,l as L,O as B,f as b,a,u as i,w as c,F as v,p as D,o as n,X as N,b as t,q as m,s as w,d as U,t as f,c as d,g as h,x as T,B as A,y as E}from"./app-fa012e40.js";import{_ as F}from"./AuthenticatedLayout-e4269cae.js";import{_ as q}from"./Breadcrumb-a1f90ab0.js";import{_ as J}from"./TextInput-a37ed436.js";import{_ as M}from"./PrimaryButton-f0e54c8a.js";import{_ as X}from"./SelectInput-d6ecf7ad.js";import{_ as x}from"./DangerButton-83083e16.js";import{_ as z}from"./Pagination-2b288850.js";import{T as C,a as _,P as G}from"./index-3cb9eb1b.js";import H from"./Create-1f9c742c.js";import K from"./Edit-72d27102.js";import Q from"./Delete-5a9ae099.js";import{_ as R}from"./Checkbox-43286906.js";import{_ as W}from"./InfoButton-44b47ffa.js";import"./index-5d8dae98.js";import"./global-f5954534.js";import"./InputError-bab8a326.js";import"./InputLabel-0db2c892.js";import"./SecondaryButton-8bd0ef43.js";/* empty css                   *//* empty css                                               */const Y={class:"space-y-4"},Z={class:"px-4 sm:px-0"},ee={class:"rounded-lg overflow-hidden w-fit"},te={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},se={class:"flex justify-between p-2"},re={class:"flex space-x-2"},oe={class:"overflow-x-auto scrollbar-table"},ae={class:"w-full table-auto"},le={class:"uppercase text-sm border-t border-gray-200 dark:border-gray-700"},ne={class:"dark:bg-gray-900 text-left"},ie={class:"px-2 py-4 text-center"},de={class:"px-2 py-4 cursor-pointer hover:bg-sky-50 dark:hover:bg-sky-800"},pe={class:"flex justify-between items-center"},ce=t("span",null," Acciones ",-1),me={class:"px-2 py-4 cursor-pointer hover:bg-sky-50 dark:hover:bg-sky-800"},ue={class:"flex justify-between items-center"},fe=t("span",null," # ",-1),he={class:"flex justify-between items-center"},_e=t("span",null," Teorica o practica ",-1),ye={class:"flex justify-between items-center"},be=t("span",null," Principal ",-1),ge={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},ke=["value"],ve={class:"whitespace-nowrap py-4 px-2 sm:py-3"},we={class:"flex justify-start items-center"},xe={class:"rounded-md overflow-hidden"},Ce={class:"whitespace-nowrap py-4 px-2 w-12 sm:py-3"},Oe={class:"whitespace-nowrap py-4 px-2 w-12 sm:py-3"},$e={class:"py-4 px-2 w-full flex flex-wrap sm:py-3"},Pe={class:"flex justify-betwween items-center p-2 border-t border-gray-200 dark:border-gray-700"},Qe={__name:"Index",props:{title:String,filters:Object,breadcrumbs:Object,perPage:Number,fromController:Object},setup(u){const l=u,{_:O,debounce:$,pickBy:P}=D,e=V({params:{search:l.filters.search,field:l.filters.field,order:l.filters.order,perPage:l.perPage},selectedId:[],multipleSelect:!1,createOpen:!1,editOpen:!1,deleteOpen:!1,deleteBulkOpen:!1,dataSet:j().props.app.perpage}),g=r=>{e.params.field=r.replace(/ /g,"_"),e.params.order=e.params.order==="asc"?"desc":"asc"};L(()=>O.cloneDeep(e.params),$(()=>{let r=P(e.params);B.get(route("LosPromp.index"),r,{replace:!0,preserveState:!0,preserveScroll:!0})},150));const S=r=>{var s;r.target.checked===!1?e.selectedId=[]:(s=l.fromController)==null||s.data.forEach(p=>{e.selectedId.push(p.id)})},I=()=>{var r;((r=l.fromController)==null?void 0:r.data.length)==e.selectedId.length?e.multipleSelect=!0:e.multipleSelect=!1};return(r,s)=>{const p=E("tooltip");return n(),b(v,null,[a(i(N),{title:l.title},null,8,["title"]),a(F,null,{default:c(()=>[a(q,{title:u.title,breadcrumbs:u.breadcrumbs},null,8,["title","breadcrumbs"]),t("div",Y,[t("div",Z,[t("div",ee,[m(a(M,{class:"rounded-none",onClick:s[0]||(s[0]=o=>e.createOpen=!0)},{default:c(()=>[U(f(r.lang().button.add),1)]),_:1},512),[[w,r.can(["create LosPromp"])]]),r.can(["create LosPromp"])?(n(),d(H,{key:0,show:e.createOpen,onClose:s[1]||(s[1]=o=>e.createOpen=!1),title:l.title},null,8,["show","title"])):h("",!0),r.can(["update LosPromp"])?(n(),d(K,{key:1,show:e.editOpen,onClose:s[2]||(s[2]=o=>e.editOpen=!1),LosPromp:e.generico,title:l.title},null,8,["show","LosPromp","title"])):h("",!0),r.can(["delete LosPromp"])?(n(),d(Q,{key:2,show:e.deleteOpen,onClose:s[3]||(s[3]=o=>e.deleteOpen=!1),LosPromp:e.generico,title:l.title},null,8,["show","LosPromp","title"])):h("",!0)])]),t("div",te,[t("div",se,[t("div",re,[a(X,{modelValue:e.params.perPage,"onUpdate:modelValue":s[4]||(s[4]=o=>e.params.perPage=o),dataSet:e.dataSet},null,8,["modelValue","dataSet"]),m((n(),d(x,{onClick:s[5]||(s[5]=o=>e.deleteBulkOpen=!0),class:"px-3 py-1.5"},{default:c(()=>[a(i(C),{class:"w-5 h-5"})]),_:1})),[[w,e.selectedId.length!=0],[p,r.lang().tooltip.delete_selected]])]),l.numberPermissions>1?(n(),d(J,{key:0,modelValue:e.params.search,"onUpdate:modelValue":s[6]||(s[6]=o=>e.params.search=o),type:"text",class:"block w-3/6 md:w-2/6 lg:w-1/6 rounded-lg",placeholder:r.lang().placeholder.search},null,8,["modelValue","placeholder"])):h("",!0)]),t("div",oe,[t("table",ae,[t("thead",le,[t("tr",ne,[t("th",ie,[a(R,{checked:e.multipleSelect,"onUpdate:checked":s[7]||(s[7]=o=>e.multipleSelect=o),onChange:S},null,8,["checked"])]),t("th",de,[t("div",pe,[ce,a(i(_),{class:"w-4 h-4"})])]),t("th",me,[t("div",ue,[fe,a(i(_),{class:"w-4 h-4"})])]),t("th",{onClick:s[8]||(s[8]=o=>g("teoricaOpractica")),class:"px-2 py-4 cursor-pointer hover:bg-sky-50 dark:hover:bg-sky-800"},[t("div",he,[_e,a(i(_),{class:"w-4 h-4"})])]),t("th",{onClick:s[9]||(s[9]=o=>g("principal")),class:"px-2 py-4 cursor-pointer hover:bg-sky-50 dark:hover:bg-sky-800"},[t("div",ye,[be,a(i(_),{class:"w-4 h-4"})])])])]),t("tbody",null,[(n(!0),b(v,null,T(u.fromController.data,(o,k)=>(n(),b("tr",{key:k,class:"border-t border-gray-200 dark:border-gray-700 hover:bg-gray-200/30 hover:dark:bg-gray-900/20 h-28"},[t("td",ge,[m(t("input",{type:"checkbox",onChange:I,value:o.id,"onUpdate:modelValue":s[10]||(s[10]=y=>e.selectedId=y),class:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-primary dark:text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-gray-800 dark:checked:bg-primary dark:checked:border-primary"},null,40,ke),[[A,e.selectedId]])]),t("td",ve,[t("div",we,[t("div",xe,[m((n(),d(W,{type:"button",onClick:y=>(e.editOpen=!0,e.generico=o),class:"px-2 py-1.5 rounded-none"},{default:c(()=>[a(i(G),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[p,r.lang().tooltip.edit]]),m((n(),d(x,{type:"button",onClick:y=>(e.deleteOpen=!0,e.generico=o),class:"px-2 py-1.5 rounded-none"},{default:c(()=>[a(i(C),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[p,r.lang().tooltip.delete]])])])]),t("td",Ce,f(k+1),1),t("td",Oe,f(o.teoricaOpractica),1),t("td",$e,f(o.principal),1)]))),128))])])]),t("div",Pe,[a(z,{links:l.fromController,filters:e.params},null,8,["links","filters"])])])])]),_:1})],64)}}};export{Qe as default};
