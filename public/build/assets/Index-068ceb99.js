import{r as N,J as P,a as D,O as U,v as A,w as E,c as w,b as r,u as n,f as u,F as x,x as T,k as p,X as F,d as e,m,y as f,l as k,t as o,s as h,g as v,n as q,h as z,q as H,A as J,H as L,B as M}from"./app-8190fc74.js";import{_ as X}from"./AuthenticatedLayout-d2a8c51d.js";import{_ as G}from"./Breadcrumb-31fbe063.js";import{_ as K}from"./TextInput-100d83c4.js";import{_ as Q}from"./PrimaryButton-ea2d3d80.js";import{_ as R}from"./InfoButton-c8303f2a.js";import{_ as W}from"./SelectInput-1ca4357c.js";import{_ as $}from"./DangerButton-7b937436.js";import{_ as Y}from"./Pagination-048820d3.js";import{T as C,p as Z,a as c,b as ee,P as se}from"./index-c7a22da3.js";import te from"./Create-27777a19.js";import le from"./Edit-8618eba3.js";import ae from"./Delete-73d68e1a.js";import re from"./DeleteBulk-0846ece4.js";import{_ as oe}from"./Checkbox-d34488cd.js";import"./index-d56bdc70.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Toast-095c7b20.js";import"./InputError-1b18cc94.js";import"./InputLabel-668bb308.js";import"./Modal-41b4ce14.js";import"./vue-datepicker-bb621d5d.js";/* empty css             */const ne={class:"space-y-4"},ie={class:"px-4 sm:px-0"},de={class:"rounded-lg overflow-hidden w-fit"},pe={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},ce={class:"flex justify-between p-2"},me={class:"flex space-x-2"},ue={class:"overflow-x-auto scrollbar-table"},fe={class:"w-full"},he={class:"uppercase text-sm border-t border-gray-200 dark:border-gray-700"},ye={class:"dark:bg-gray-900/50 text-left"},_e={class:"px-2 py-4 text-center"},be=e("th",{class:"px-2 py-4 text-center"},"#",-1),ge={class:"flex justify-between items-center"},we={class:"px-2 py-4"},ke={class:"flex justify-between items-center"},ve={class:"flex justify-between items-center"},xe={class:"flex justify-between items-center"},$e={class:"flex justify-between items-center"},Ce={class:"flex justify-between items-center"},Oe={class:"flex justify-between items-center"},je={class:"flex justify-between items-center"},Ie={class:"flex justify-between items-center"},Se=e("th",{class:"px-2 py-4"},"Accion",-1),Be={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},Ve=["value"],Ne={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},Pe={class:"whitespace-nowrap py-4 px-2 sm:py-3"},De={class:"flex justify-start items-center"},Ue={class:"flex justify-start items-center text-sm text-gray-600"},Ae={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ee={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Te={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Fe={class:"whitespace-nowrap text-center py-4 px-2 sm:py-3"},qe={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ze={class:"whitespace-nowrap text-center py-4 px-2 sm:py-3"},He={class:"whitespace-nowrap text-center py-4 px-2 sm:py-3"},Je={class:"whitespace-nowrap text-center py-4 px-2 sm:py-3"},Le={class:"whitespace-nowrap text-center py-4 px-2 sm:py-3"},Me={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Xe={class:"flex justify-center items-center"},Ge={class:"rounded-md overflow-hidden"},Ke={class:"flex justify-between items-center p-2 border-t border-gray-200 dark:border-gray-700"},bs={__name:"Index",props:{title:String,filters:Object,users:Object,roles:Object,breadcrumbs:Object,perPage:Number,numberPermissions:Number,flash:Object},setup(_){const i=_,{_:O,debounce:j,pickBy:I}=T,s=N({params:{search:i.filters.search,field:i.filters.field,order:i.filters.order,perPage:i.perPage},selectedId:[],multipleSelect:!1,createOpen:!1,editOpen:!1,deleteOpen:!1,deleteBulkOpen:!1,user:null,ArchivoNombre:"",dataSet:P().props.app.perpage}),d=a=>{s.params.field=a,console.log("ðŸ§ˆ debu data.params.field:",s.params.field),s.params.order=s.params.order==="asc"?"desc":"asc",console.log("ðŸ§ˆ debu data.params.order:",s.params.order)};D(()=>O.cloneDeep(s.params),j(()=>{let a=I(s.params);U.get(route("user.index"),a,{replace:!0,preserveState:!0,preserveScroll:!0})},150));const S=a=>{var t;a.target.checked===!1?s.selectedId=[]:(t=i.users)==null||t.data.forEach(y=>{s.selectedId.push(y.id)})},B=()=>{var a;((a=i.users)==null?void 0:a.data.length)==s.selectedId.length?s.multipleSelect=!0:s.multipleSelect=!1},V=A({archivo1:""});return E(()=>{var a;s.ArchivoNombre=(a=V.archivo1)==null?void 0:a.name}),(a,t)=>{const y=M("tooltip");return p(),w(x,null,[r(n(F),{title:i.title},null,8,["title"]),r(X,null,{default:u(()=>[r(G,{title:_.title,breadcrumbs:_.breadcrumbs},null,8,["title","breadcrumbs"]),e("div",ne,[e("div",ie,[e("div",de,[m(r(Q,{class:"rounded-none",onClick:t[0]||(t[0]=l=>s.createOpen=!0)},{default:u(()=>[k(o(a.lang().button.add),1)]),_:1},512),[[f,a.can(["create user"])]]),a.can(["create user"])?(p(),h(te,{key:0,show:s.createOpen,onClose:t[1]||(t[1]=l=>s.createOpen=!1),roles:i.roles,title:i.title},null,8,["show","roles","title"])):v("",!0),a.can(["update user"])?(p(),h(le,{key:1,show:s.editOpen,onClose:t[2]||(t[2]=l=>s.editOpen=!1),user:s.user,roles:i.roles,title:i.title},null,8,["show","user","roles","title"])):v("",!0),r(ae,{show:s.deleteOpen,onClose:t[3]||(t[3]=l=>s.deleteOpen=!1),user:s.user,title:i.title},null,8,["show","user","title"]),r(re,{show:s.deleteBulkOpen,onClose:t[4]||(t[4]=l=>(s.deleteBulkOpen=!1,s.multipleSelect=!1,s.selectedId=[])),selectedId:s.selectedId,title:i.title},null,8,["show","selectedId","title"])])]),e("div",pe,[e("div",ce,[e("div",me,[r(W,{modelValue:s.params.perPage,"onUpdate:modelValue":t[5]||(t[5]=l=>s.params.perPage=l),dataSet:s.dataSet},null,8,["modelValue","dataSet"]),m((p(),h($,{onClick:t[6]||(t[6]=l=>s.deleteBulkOpen=!0),class:"px-3 py-1.5"},{default:u(()=>[r(n(C),{class:"w-5 h-5"})]),_:1})),[[f,s.selectedId.length!=0&&a.can(["delete user"])],[y,a.lang().tooltip.delete_selected]]),m(r(n(q),{href:a.route("subirexceles"),type:"button",class:"px-2 -mb-1.5 py-1.5 rounded-none hover:bg-blue-500"},{default:u(()=>[r(n(Z),{class:"w-9 h-9"}),k("Subir excel ")]),_:1},8,["href"]),[[f,a.can(["create user"])]])]),i.numberPermissions>1?(p(),h(K,{key:0,modelValue:s.params.search,"onUpdate:modelValue":t[7]||(t[7]=l=>s.params.search=l),type:"text",class:"block w-4/6 md:w-3/6 lg:w-2/6 rounded-lg",placeholder:"Nombre, correo, nivel o ID "},null,8,["modelValue"])):v("",!0)]),e("div",ue,[e("table",fe,[e("thead",he,[e("tr",ye,[e("th",_e,[r(oe,{checked:s.multipleSelect,"onUpdate:checked":t[8]||(t[8]=l=>s.multipleSelect=l),onChange:S},null,8,["checked"])]),be,e("th",{class:"px-2 py-4 cursor-pointer",onClick:t[9]||(t[9]=l=>d("name"))},[e("div",ge,[e("span",null,o(a.lang().label.name),1),r(n(c),{class:"w-4 h-4"})])]),e("th",we,o(a.lang().label.role),1),e("th",{class:"px-2 py-4 cursor-pointer",onClick:t[10]||(t[10]=l=>d("identificacion"))},[e("div",ke,[e("span",null,o(a.lang().label.identificacion),1),r(n(c),{class:"w-4 h-4"})])]),e("th",{class:"px-2 py-4 cursor-pointer",onClick:t[11]||(t[11]=l=>d("sexo"))},[e("div",ve,[e("span",null,o(a.lang().label.sexo),1),r(n(c),{class:"w-4 h-4"})])]),e("th",{class:"px-2 py-4 cursor-pointer",onClick:t[12]||(t[12]=l=>d("fecha_nacimiento"))},[e("div",xe,[e("span",null,o(a.lang().label.edad),1),r(n(c),{class:"w-4 h-4"})])]),e("th",{class:"px-2 py-4 cursor-pointer",onClick:t[13]||(t[13]=l=>d("pgrado"))},[e("div",$e,[e("span",null,o(a.lang().label.pgrado),1),r(n(c),{class:"w-4 h-4"})])]),e("th",{class:"px-2 py-4 cursor-pointer",onClick:t[14]||(t[14]=l=>d("semestre"))},[e("div",Ce,[e("span",null,o(a.lang().label.semestre),1),r(n(c),{class:"w-4 h-4"})])]),e("th",{class:"px-2 py-4 cursor-pointer",onClick:t[15]||(t[15]=l=>d("limite_token_general"))},[e("div",Oe,[e("span",null,o(a.lang().label.limite_token_general),1),r(n(c),{class:"w-4 h-4"})])]),e("th",{class:"px-2 py-4 cursor-pointer",onClick:t[16]||(t[16]=l=>d("limite_token_leccion"))},[e("div",je,[e("span",null,o(a.lang().label.limite_token_lec),1),r(n(c),{class:"w-4 h-4"})])]),e("th",{class:"px-2 py-4 cursor-pointer",onClick:t[17]||(t[17]=l=>d("pgrado"))},[e("div",Ie,[e("span",null,o(a.lang().label.pgrado),1),r(n(c),{class:"w-4 h-4"})])]),Se])]),e("tbody",null,[(p(!0),w(x,null,z(_.users.data,(l,b)=>(p(),w("tr",{key:b,class:H(["border-t border-gray-200 dark:border-gray-700 hover:bg-sky-100 hover:dark:bg-gray-900/20",b%2==0?"bg-gray-100 dark:bg-gray-800":""])},[e("td",Be,[m(e("input",{class:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-primary dark:text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-gray-800 dark:checked:bg-primary dark:checked:border-primary",type:"checkbox",onChange:B,value:l.id,"onUpdate:modelValue":t[18]||(t[18]=g=>s.selectedId=g)},null,40,Ve),[[J,s.selectedId]])]),e("td",Ne,o(++b),1),e("td",Pe,[e("span",De,[k(o(l.name)+" ",1),m(r(n(ee),{class:"ml-[2px] w-4 h-4 text-primary dark:text-white"},null,512),[[f,l.email_verified_at]])]),e("span",Ue,o(l.email),1)]),e("td",Ae,o(l.roles.length==0?"not selected":l.roles[0].name),1),e("td",Ee,o(l.identificacion),1),e("td",Te,o(l.sexo),1),e("td",Fe,o(n(L)(l.fecha_nacimiento)),1),e("td",qe,o(l.pgrado),1),e("td",ze,o(l.semestre),1),e("td",He,o(l.limite_token_general),1),e("td",Je,o(l.limite_token_leccion),1),e("td",Le,o(l.pgrado),1),e("td",Me,[e("div",Xe,[e("div",Ge,[m((p(),h(R,{type:"button",onClick:g=>(s.editOpen=!0,s.user=l),class:"px-2 py-1.5 rounded-none"},{default:u(()=>[r(n(se),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[f,a.can(["update user"])],[y,a.lang().tooltip.edit]]),m((p(),h($,{type:"button",onClick:g=>(s.deleteOpen=!0,s.user=l),class:"px-2 py-1.5 rounded-none"},{default:u(()=>[r(n(C),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[f,a.can(["delete user"])],[y,a.lang().tooltip.delete]])])])])],2))),128))])])]),e("div",Ke,[r(Y,{links:i.users,filters:s.params},null,8,["links","filters"])])])])]),_:1})],64)}}};export{bs as default};
