import{r as w,v as k,o as M,w as D,c as u,b as r,u as s,f as i,F as b,k as h,X as F,d as e,e as P,t as n,m as B,p as C,g as x,h as j,bG as E,n as c,l as f}from"./app-8190fc74.js";import{_ as N}from"./AuthenticatedLayout-d2a8c51d.js";import{_ as S}from"./Breadcrumb-31fbe063.js";import{_}from"./BackButton-2206ebc1.js";import"./index-d56bdc70.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./index-c7a22da3.js";import"./Toast-095c7b20.js";const O={class:"text-gray-600 body-font"},R={class:"container px-5 mx-auto mb-12"},V=e("div",{class:"flex flex-nowrap -m-4 text-center"},[e("div",{class:"px-4 lg:w-full"},[e("div",{class:"h-full bg-gray-100 bg-opacity-75 px-8 pt-8 pb-1 rounded-lg overflow-hidden text-center relative"},[e("h1",{class:"title-font sm:text-xl text-lg font-medium text-gray-900"},"Guardar documentos, solo PDF")])])],-1),A=["onSubmit"],T={class:"mt-4 w-full"},X={for:"archivou",class:"w-full underline text-sky-700"},$=["value"],q={key:1,type:"submit",class:"w-1/2 mx-auto border border-white-500 bg-sky-500 text-white rounded-md px-4 py-2 m-2 transition duration-500 ease select-none hover:bg-yellow-600 focus:outline-none focus:shadow-outline"},z={class:"container px-5 my-4 mx-auto border border-b-2 border-x-0 border-black"},G={class:"text-center"},I={class:"title-font sm:text-2xl text-xl my-5 hover:font-bold text-gray-900"},L={class:"flex flex-wrap -m-4"},Q={class:"h-full bg-gray-100 bg-opacity-75 px-2 pt-2 pb-12 rounded-lg overflow-hidden text-center relative"},U={class:"tracking-widest text-sm title-font font-medium text-gray-400 mb-1"},H={class:"title-font sm:text-2xl text-xl font-medium text-gray-900 mb-3"},J={class:"grid grid-cols-2"},K=e("a",{class:"text-indigo-500 inline-flex items-center"},[f("Visualizar archivo "),e("svg",{class:"w-4 h-4 ml-2",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M5 12h14"}),f(),e("path",{d:"M12 5l7 7-7 7"})])],-1),W=e("a",{class:"text-indigo-500 inline-flex items-center"},[f("Resumir archivo "),e("svg",{class:"w-4 h-4 ml-2",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M5 12h14"}),f(),e("path",{d:"M12 5l7 7-7 7"})])],-1),Y=e("a",{class:"text-indigo-500 inline-flex items-center"},"¿Cuál es el tema central o la principal conclusión del documento que se describe en el PDF? ",-1),Z=e("a",{class:"text-indigo-500 inline-flex items-center"},"¿Cuáles son los puntos clave o los argumentos principales presentados en el PDF? ",-1),ee=e("a",{class:"text-indigo-500 inline-flex items-center"},"¿Quiénes son los autores y cuál es su credibilidad en relación con el tema del PDF? ",-1),te=e("a",{class:"text-indigo-500 inline-flex items-center"},"¿Cuál es el contexto o la relevancia del contenido del PDF en el campo o la industria a la que pertenece? ",-1),se=["src"],oe={class:"text-center"},re={class:"title-font sm:text-lg text-md my-5 text-gray-800"},ae={class:"title-font sm:text-lg text-md my-5 text-gray-800"},fe={__name:"ArchivosIndex",props:{breadcrumbs:Object,title:String,numberPermissions:Number,archivos:Object,materia:Object},emits:["close"],setup(p,{emit:le}){const d=p,l=w({tamanin:"",TamanoMAX:0,sumOfpesos:0}),t=k({archivo:null,nombre:"",peso:0,type:"",user_id:"",materia_id:""}),g=()=>{t.materia_id=d.materia.id,t.post(route("materia.storeArchivos"),{preserveScroll:!0,onSuccess:()=>{t.reset()},onError:()=>null,onFinish:()=>null})};M(()=>{l.TamanoMAX=1024*1024*12,d.archivos.forEach((a,m,o)=>{l.sumOfpesos+=a.peso})});const v=()=>{t.archivo&&(t.type=t.archivo.type,t.type=="application/pdf"?(t.peso=Math.round(t.archivo.size/(1024*1024)),t.peso<l.TamanoMAX?(t.nombre=t.archivo.name.slice(0,-4),l.tamanin="El archivo pesa aproximadamente "+t.peso+" MB"):l.mensajes="El peso del archivo supera los 12MB"):l.mensajes="El archivo debe ser un PDF")};return D(()=>{}),(a,m)=>(h(),u(b,null,[r(s(F),{title:d.title},null,8,["title"]),r(N,null,{default:i(()=>[r(S,{title:p.title,breadcrumbs:p.breadcrumbs},null,8,["title","breadcrumbs"]),e("section",O,[e("div",R,[V,e("form",{onSubmit:P(g,["prevent"]),enctype:"multipart/form-data",class:"grid mx-[80px] text-center"},[e("p",T,n(l.tamanin),1),B(e("input",{type:"text","onUpdate:modelValue":m[0]||(m[0]=o=>s(t).nombre=o),placeholder:"Digite el nombre del archivo",class:"w-1/2 mx-auto my-1"},null,512),[[C,s(t).nombre]]),e("label",X,n(s(t).archivo?s(t).archivo.name:"No hay archivo seleccionado"),1),e("input",{id:"archivou",type:"file",onInput:m[1]||(m[1]=o=>s(t).archivo=o.target.files[0]),onChange:v,accept:"application/pdf",class:"my-6 w-full hidden"},null,32),s(t).progress?(h(),u("progress",{key:0,value:s(t).progress.percentage,max:"100",class:"w-full"},n(s(t).progress.percentage)+"% ",9,$)):x("",!0),s(t).archivo&&!s(t).processing?(h(),u("button",q," Subir archivo ")):x("",!0)],40,A),r(_,{ruta:"materia.index",class:"mt-7 text-center"},null,8,["ruta"])]),e("div",z,[e("div",G,[e("h1",I,n(p.materia.nombre),1)]),e("div",L,[(h(!0),u(b,null,j(d.archivos,(o,y)=>(h(),u("div",{key:y,class:"p-2 w-full lg:w-1/2"},[e("div",Q,[e("h2",U,n(s(E)(o.updated_at)),1),e("h1",H,n(o.nombre),1),e("div",J,[r(s(c),{href:a.route("vistaPDF",o.id),class:"my-1 border-2 border-b-blue-300"},{default:i(()=>[K]),_:2},1032,["href"]),r(s(c),{href:a.route("generarResumen",o.id),class:"my-1 border-2 border-b-blue-300"},{default:i(()=>[W]),_:2},1032,["href"]),r(s(c),{href:a.route("generarResumen",[o.id,1]),class:"mt-4 mb-1 border-2 border-b-blue-300"},{default:i(()=>[Y]),_:2},1032,["href"]),r(s(c),{href:a.route("generarResumen",[o.id,2]),class:"mt-4 mb-1 border-2 border-b-blue-300"},{default:i(()=>[Z]),_:2},1032,["href"]),r(s(c),{href:a.route("generarResumen",[o.id,3]),class:"my-1 border-2 border-b-blue-300"},{default:i(()=>[ee]),_:2},1032,["href"]),r(s(c),{href:a.route("generarResumen",[o.id,4]),class:"my-1 border-2 border-b-blue-300"},{default:i(()=>[te]),_:2},1032,["href"])]),e("embed",{src:a.route("verPdf",o.id),type:"application/pdf",height:"600px",class:"w-full col-span-2 mt-8"},null,8,se)])]))),128))]),e("div",oe,[e("h1",re,"Numero de archivos almacenados "+n(d.archivos.length),1),e("h1",ae,"Peso total: "+n(l.sumOfpesos)+" MB",1)]),r(_,{ruta:"materia.index",class:"my-12 text-center"},null,8,["ruta"])])])]),_:1})],64))}};export{fe as default};
