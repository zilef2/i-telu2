import{v as q,m as B,f as E,a as s,w as f,o as F,b as i,t as u,u as l,d as j,n as M,e as N}from"./app-fa012e40.js";import{_ as t}from"./InputError-bab8a326.js";import{_ as m}from"./InputLabel-0db2c892.js";import{_ as O,a as T}from"./SecondaryButton-8bd0ef43.js";import{_ as z}from"./PrimaryButton-f0e54c8a.js";import{_ as U}from"./SelectInput-d6ecf7ad.js";import{_ as d}from"./TextInput-a37ed436.js";import{o as A}from"./vue-datepicker-2655f816.js";const D={class:"space-y-6"},G=["onSubmit"],H={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},I={class:"my-6 space-y-4"},J={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},K={class:""},L={class:""},P={class:""},Q={class:"flex justify-end"},ae={__name:"Edit",props:{show:Boolean,title:String,user:Object,roles:Object},emits:["close"],setup(S,{emit:c}){var g;const n=S,e=q({name:"",email:"",password:"",password_confirmation:"",role:"",sexo:"",identificacion:"",fecha_nacimiento:"",semestre:"",semestre_mas_bajo:1,limite_token_general:"",limite_token_leccion:""}),p=()=>{var a;e.put(route("user.update",(a=n.user)==null?void 0:a.id),{preserveScroll:!0,onSuccess:()=>{c("close"),e.reset()},onError:()=>null,onFinish:()=>null})};B(()=>{var a,o,r,_,b,v,V,k,h,w,y;n.show&&(e.errors={},e.name=(a=n.user)==null?void 0:a.name,e.email=(o=n.user)==null?void 0:o.email,e.role=((r=n.user)==null?void 0:r.roles)==0?"":(_=n.user)==null?void 0:_.roles[0].name,e.identificacion=(b=n.user)==null?void 0:b.identificacion,e.sexo=(v=n.user)==null?void 0:v.sexo,e.fecha_nacimiento=(V=n.user)==null?void 0:V.fecha_nacimiento,e.semestre=(k=n.user)==null?void 0:k.semestre,e.semestre_mas_bajo=(h=n.user)==null?void 0:h.semestre_mas_bajo,e.limite_token_general=(w=n.user)==null?void 0:w.limite_token_general,e.limite_token_leccion=(y=n.user)==null?void 0:y.limite_token_leccion,e.errors={})});const $=(g=n.roles)==null?void 0:g.map(a=>({label:a.name,value:a.name})),C=[{label:"Masculino",value:"Masculino"},{label:"Femenino",value:"Femenino"}];return(a,o)=>(F(),E("section",D,[s(O,{show:n.show,onClose:o[11]||(o[11]=r=>c("close"))},{default:f(()=>[i("form",{class:"p-6",onSubmit:N(p,["prevent"])},[i("h2",H,u(a.lang().label.edit)+" "+u(n.title),1),i("div",I,[i("div",null,[s(m,{for:"name",value:a.lang().label.name},null,8,["value"]),s(d,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:l(e).name,"onUpdate:modelValue":o[0]||(o[0]=r=>l(e).name=r),required:"",placeholder:a.lang().placeholder.name,error:l(e).errors.name},null,8,["modelValue","placeholder","error"]),s(t,{class:"mt-2",message:l(e).errors.name},null,8,["message"])]),i("div",null,[s(m,{for:"email",value:a.lang().label.email},null,8,["value"]),s(d,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:l(e).email,"onUpdate:modelValue":o[1]||(o[1]=r=>l(e).email=r),placeholder:a.lang().placeholder.email,error:l(e).errors.email},null,8,["modelValue","placeholder","error"]),s(t,{class:"mt-2",message:l(e).errors.email},null,8,["message"])]),i("div",null,[s(m,{for:"identificacion",value:a.lang().label.identificacion},null,8,["value"]),s(d,{id:"identificacion",type:"text",class:"mt-1 block w-full",modelValue:l(e).identificacion,"onUpdate:modelValue":o[2]||(o[2]=r=>l(e).identificacion=r),placeholder:a.lang().placeholder.identificacion,error:l(e).errors.identificacion},null,8,["modelValue","placeholder","error"]),s(t,{class:"mt-2",message:l(e).errors.identificacion},null,8,["message"])]),i("div",J,[i("div",null,[s(m,{for:"role",value:a.lang().label.role},null,8,["value"]),s(U,{id:"role",class:"mt-1 block w-full",modelValue:l(e).role,"onUpdate:modelValue":o[3]||(o[3]=r=>l(e).role=r),required:"",dataSet:l($)},null,8,["modelValue","dataSet"]),s(t,{class:"mt-2",message:l(e).errors.role},null,8,["message"])]),i("div",null,[s(m,{for:"sexo",value:a.lang().label.sexo},null,8,["value"]),s(U,{id:"sexo",class:"mt-1 block w-full",modelValue:l(e).sexo,"onUpdate:modelValue":o[4]||(o[4]=r=>l(e).sexo=r),required:"",dataSet:C},null,8,["modelValue"]),s(t,{class:"mt-2",message:l(e).errors.sexo},null,8,["message"])]),i("div",null,[s(m,{for:"fecha_nacimiento",value:a.lang().label.fecha_nacimiento},null,8,["value"]),s(l(A),{"is-24":!1,"day-names":a.daynames,format:a.formatToVue,flow:a.flow,"auto-apply":"","enable-time-picker":!1,id:"fecha_nacimiento",class:"mt-1 block w-full",modelValue:l(e).fecha_nacimiento,"onUpdate:modelValue":o[5]||(o[5]=r=>l(e).fecha_nacimiento=r),required:"",placeholder:a.lang().placeholder.fecha_nacimiento,error:l(e).errors.fecha_nacimiento},null,8,["day-names","format","flow","modelValue","placeholder","error"]),s(t,{class:"mt-2",message:l(e).errors.fecha_nacimiento},null,8,["message"])]),i("div",K,[s(m,{for:"anio",value:a.lang().label.anio},null,8,["value"]),s(d,{id:"anio",type:"number",disabled:"",class:"bg-gray-300 mt-1 block w-full",modelValue:a.anio,"onUpdate:modelValue":o[6]||(o[6]=r=>a.anio=r),placeholder:"AÃ±os"},null,8,["modelValue"])]),i("div",L,[s(m,{for:"semestre",value:a.lang().label.semestre},null,8,["value"]),s(d,{id:"semestre",type:"number",class:"mt-1 block w-full",modelValue:l(e).semestre,"onUpdate:modelValue":o[7]||(o[7]=r=>l(e).semestre=r),placeholder:a.lang().placeholder.semestre,error:l(e).errors.semestre},null,8,["modelValue","placeholder","error"]),s(t,{class:"mt-2",message:l(e).errors.semestre},null,8,["message"])]),i("div",P,[s(m,{for:"semestre_mas_bajo",value:a.lang().label.semestre_mas_bajo},null,8,["value"]),s(d,{id:"semestre_mas_bajo",type:"number",class:"bg-gray-300 mt-1 block w-full",modelValue:l(e).semestre_mas_bajo,"onUpdate:modelValue":o[8]||(o[8]=r=>l(e).semestre_mas_bajo=r),disabled:"",placeholder:a.lang().placeholder.semestre_mas_bajo,error:l(e).errors.semestre_mas_bajo},null,8,["modelValue","placeholder","error"]),s(t,{class:"mt-2",message:l(e).errors.semestre_mas_bajo},null,8,["message"])])]),i("div",null,[s(m,{for:"limite_token_leccion",value:a.lang().label.limite_token_leccion},null,8,["value"]),s(d,{id:"limite_token_leccion",type:"number",class:"mt-1 block w-full",modelValue:l(e).limite_token_leccion,"onUpdate:modelValue":o[9]||(o[9]=r=>l(e).limite_token_leccion=r),placeholder:a.lang().placeholder.limite_token_leccion,error:l(e).errors.limite_token_leccion},null,8,["modelValue","placeholder","error"]),s(t,{class:"mt-2",message:l(e).errors.limite_token_leccion},null,8,["message"])])]),i("div",Q,[s(T,{disabled:l(e).processing,onClick:o[10]||(o[10]=r=>c("close"))},{default:f(()=>[j(u(a.lang().button.close),1)]),_:1},8,["disabled"]),s(z,{class:M(["ml-3",{"opacity-25":l(e).processing}]),disabled:l(e).processing,onClick:p},{default:f(()=>[j(u(l(e).processing?a.lang().button.save+"...":a.lang().button.save),1)]),_:1},8,["class","disabled"])])],40,G)]),_:1},8,["show"])]))}};export{ae as default};
