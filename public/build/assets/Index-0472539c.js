import{B as M,r as T,J as A,h as E,O as S,i as N,c as d,a as o,u as i,b as p,F as y,p as z,o as l,X as J,d as a,l as b,e as O,t as m,m as u,j as $,k as C,g as U,n as q,s as F}from"./app-6467c706.js";import{_ as H,S as L,q as Y,h as P,U as X,Y as G}from"./AuthenticatedLayout-6da35bc8.js";import{_ as K}from"./Breadcrumb-26092690.js";import{_ as Q}from"./TextInput-d4362326.js";import{_ as R}from"./PrimaryButton-037173fe.js";import{_ as j}from"./SelectInput-a92191a9.js";import{_ as W}from"./DangerButton-180b4b60.js";import{_ as Z}from"./Pagination-11770208.js";import{T as ee,C as te}from"./index-b72a4a48.js";import ae from"./Create-14e0fdae.js";import se from"./Edit-22703f69.js";import re from"./Delete-2832378f.js";import{_ as oe}from"./GroupButtonsIndex-85659f15.js";import{v as le}from"./global-8f2c086a.js";import"./index-23384e0f.js";import"./InputError-0260cbdd.js";import"./InputLabel-04b443e6.js";import"./SecondaryButton-b7ca80cc.js";const ne={class:"space-y-4"},ie={class:"px-4 sm:px-0"},de={class:"rounded-lg overflow-hidden w-fit"},pe={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},ce={class:"flex justify-between p-2"},me={class:"flex space-x-2"},ue={class:"bg-gray-100"},fe={class:"overflow-x-auto scrollbar-table"},be={class:"w-full"},ve={class:"uppercase text-sm border-t border-gray-200 dark:border-gray-700"},_e={class:"dark:bg-gray-900 text-left"},he=["onClick"],ye={key:0,class:"flex items-center"},we={class:"text-center"},ge={key:1,class:"flex items-center text-center"},ke={class:"text-center"},xe={key:0,class:"whitespace-nowrap py-4 px-6 sm:py-3 w-20"},Se={class:"flex justify-start items-center"},Oe={class:"rounded-md overflow-hidden"},$e={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ce={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ue={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Pe={class:"whitespace-nowrap py-4 px-2 sm:py-3"},je={key:1,class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ve={class:"flex justify-betwween items-center p-2 border-t border-gray-200 dark:border-gray-700"},Ie=a("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),Be={class:"fixed inset-0 overflow-y-auto"},De={class:"flex min-h-full items-center justify-center p-4 text-center"},Me=a("div",{class:"mt-2"},[a("p",{class:"text-sm text-gray-500"}," Esta carrera no tiene Asignaturas/materias inscritas ")],-1),et={__name:"Index",props:{title:String,filters:Object,breadcrumbs:Object,perPage:Number,fromController:Object,PapaSelect:Object,nombresTabla:Array,numberPermissions:Number,UniversidadSelect:Object},setup(c){var x;const n=c,v=M(!1);function w(){v.value=!1}const{_:V,debounce:I,pickBy:g}=z,t=T({params:{search:n.filters.search,field:n.filters.field,order:n.filters.order,perPage:n.perPage,selectedUniID:n.filters.selectedUniID},params2:{selectedcarr:0},selectedId:[],multipleSelect:!1,createOpen:!1,editOpen:!1,deleteOpen:!1,deleteBulkOpen:!1,generico:null,dataSet:A().props.app.perpage}),B=s=>{s&&(t.params.field=s.replace(/ /g,"_")),t.params.order=t.params.order==="asc"?"desc":"asc"};E(()=>V.cloneDeep(t.params),I(()=>{let s=g(t.params);S.get(route("carrera.index"),s,{replace:!0,preserveState:!0,preserveScroll:!0})},150)),N(()=>{t.UniversidadSelect=le(t.UniversidadSelect,n.UniversidadSelect,"una")});const D=(s,r,_)=>{if(_>0){t.params2.selectedUni=s,t.params2.selectedcarr=r;let e=g(t.params2);S.get(route("materia.index"),e,{replace:!0,preserveState:!0,preserveScroll:!0})}else v.value=!0},k=(x=n.PapaSelect)==null?void 0:x.map(s=>({label:s.nombre,value:s.id}));return(s,r)=>{const _=F("tooltip");return l(),d(y,null,[o(i(J),{title:n.title},null,8,["title"]),o(H,null,{default:p(()=>[o(K,{title:c.title,breadcrumbs:c.breadcrumbs},null,8,["title","breadcrumbs"]),a("div",ne,[a("div",ie,[a("div",de,[s.can(["create carrera"])?(l(),b(R,{key:0,class:"rounded-none",onClick:r[0]||(r[0]=e=>t.createOpen=!0)},{default:p(()=>[O(m(s.lang().button.add),1)]),_:1})):u("",!0),s.can(["create carrera"])?(l(),b(ae,{key:1,show:t.createOpen,onClose:r[1]||(r[1]=e=>t.createOpen=!1),title:n.title,PapaSelect:i(k)},null,8,["show","title","PapaSelect"])):u("",!0),s.can(["update carrera"])?(l(),b(se,{key:2,show:t.editOpen,onClose:r[2]||(r[2]=e=>t.editOpen=!1),carrera:t.generico,title:n.title,PapaSelect:i(k)},null,8,["show","carrera","title","PapaSelect"])):u("",!0),s.can(["delete carrera"])?(l(),b(re,{key:3,show:t.deleteOpen,onClose:r[3]||(r[3]=e=>t.deleteOpen=!1),carrera:t.generico,title:n.title},null,8,["show","carrera","title"])):u("",!0)])]),a("div",pe,[a("div",ce,[a("div",me,[o(j,{modelValue:t.params.perPage,"onUpdate:modelValue":r[4]||(r[4]=e=>t.params.perPage=e),dataSet:t.dataSet,id:"perpag"},null,8,["modelValue","dataSet"]),$((l(),b(W,{onClick:r[5]||(r[5]=e=>t.deleteBulkOpen=!0),class:"px-3 py-1.5"},{default:p(()=>[o(i(ee),{class:"w-5 h-5"})]),_:1})),[[C,t.selectedId.length!=0],[_,s.lang().tooltip.delete_selected]]),a("div",ue,[o(j,{modelValue:t.params.selectedUniID,"onUpdate:modelValue":r[6]||(r[6]=e=>t.params.selectedUniID=e),id:"uni",dataSet:t.UniversidadSelect},null,8,["modelValue","dataSet"])])]),n.numberPermissions>1?(l(),b(Q,{key:0,modelValue:t.params.search,"onUpdate:modelValue":r[7]||(r[7]=e=>t.params.search=e),type:"text",id:"buscar",class:"block w-3/6 md:w-2/6 lg:w-1/6 rounded-lg",placeholder:s.lang().placeholder.search},null,8,["modelValue","placeholder"])):u("",!0)]),a("div",fe,[a("table",be,[a("thead",ve,[a("tr",_e,[(l(!0),d(y,null,U(c.nombresTabla[0],(e,f)=>(l(),d("th",{key:f,onClick:h=>B(c.nombresTabla[2][f]),class:"px-8 py-4 cursor-pointer hover:bg-sky-50 dark:hover:bg-sky-800"},[c.nombresTabla[2][f]!==null?(l(),d("div",ye,[a("span",we,m(e),1),o(i(te),{class:"w-4 h-4"})])):(l(),d("div",ge,[a("span",ke,m(e),1)]))],8,he))),128))])]),a("tbody",null,[(l(!0),d(y,null,U(c.fromController.data,(e,f)=>(l(),d("tr",{key:f,class:q(["border-t border-gray-200 dark:border-gray-700 hover:bg-gray-200/30 hover:dark:bg-gray-900/20",f%2==0?"bg-gray-100 dark:bg-gray-800":""])},[c.numberPermissions>3?(l(),d("td",xe,[a("div",Se,[a("div",Oe,[$(o(oe,{visualizar:["Editar","Borrar","Matricular","Ver","Mapa"],ruta:"carrera.AsignarUsers",rutaMapa:"carrera.Mapa",id1:e.id,onEditar:h=>(t.editOpen=!0,t.generico=e),onJustdelete:h=>(t.deleteOpen=!0,t.generico=e),onIrHijo:h=>D(e.universidad_id,e.id,e.cuantasMaterias)},null,8,["ruta","rutaMapa","id1","onEditar","onJustdelete","onIrHijo"]),[[C,s.can(["isAdmin"])]])])])])):u("",!0),a("td",$e,m(e==null?void 0:e.enum),1),a("td",Ce,m(e==null?void 0:e.nombre),1),a("td",Ue,m(e==null?void 0:e.codigo),1),a("td",Pe,m(e==null?void 0:e.hijo),1),n.numberPermissions>3?(l(),d("td",je,m(e==null?void 0:e.cuantosUs),1)):u("",!0)],2))),128))])])]),a("div",Ve,[o(Z,{links:n.fromController,filters:t.params},null,8,["links","filters"])])])]),a("template",null,[o(i(L),{appear:"",show:v.value,as:"template"},{default:p(()=>[o(i(Y),{as:"div",onClose:w,class:"relative z-10"},{default:p(()=>[o(i(P),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:p(()=>[Ie]),_:1}),a("div",Be,[a("div",De,[o(i(P),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:p(()=>[o(i(X),{class:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:p(()=>[o(i(G),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:p(()=>[O(" Sin Asignaturas ")]),_:1}),Me,a("div",{class:"mt-4"},[a("button",{type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",onClick:w}," Listo ")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])]),_:1})],64)}}};export{et as default};
