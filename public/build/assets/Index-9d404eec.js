import{r as I,J as V,bE as P,a as B,O as N,c as g,b as l,u as i,f as p,F as k,x as D,k as n,X as A,d as t,m,y as v,l as E,t as u,s as d,g as b,h as T,A as F,B as J}from"./app-8190fc74.js";import{_ as L}from"./AuthenticatedLayout-d2a8c51d.js";import{_ as M}from"./Breadcrumb-31fbe063.js";import{_ as X}from"./TextInput-100d83c4.js";import{_ as q}from"./PrimaryButton-ea2d3d80.js";import{_ as z}from"./SelectInput-1ca4357c.js";import{_ as w}from"./DangerButton-7b937436.js";import{_ as G}from"./Pagination-048820d3.js";import{T as x,a as f,P as H}from"./index-c7a22da3.js";import K from"./Create-d2c5a901.js";import Q from"./Edit-ab0be6f3.js";import R from"./Delete-7f0e4db8.js";import{_ as W}from"./Checkbox-d34488cd.js";import{_ as Y}from"./InfoButton-c8303f2a.js";import"./index-d56bdc70.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Toast-095c7b20.js";import"./InputError-1b18cc94.js";import"./InputLabel-668bb308.js";import"./Modal-41b4ce14.js";const Z={class:"space-y-4"},ee={class:"px-4 sm:px-0"},te={class:"rounded-lg overflow-hidden w-fit"},se={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},re={class:"flex justify-between p-2"},oe={class:"flex space-x-2"},le={class:"overflow-x-auto scrollbar-table"},ae={class:"w-full"},ne={class:"uppercase text-sm border-t border-gray-200 dark:border-gray-700"},ie={class:"dark:bg-gray-900 text-left"},de={class:"px-2 py-4 text-center"},ce={class:"px-2 py-4 cursor-pointer hover:bg-sky-50 dark:hover:bg-sky-800"},pe={class:"flex justify-between items-center"},me=t("span",null," Acciones ",-1),ue={class:"px-2 py-4 cursor-pointer hover:bg-sky-50 dark:hover:bg-sky-800"},fe={class:"flex justify-between items-center"},he=t("span",null," # ",-1),be={class:"flex justify-between items-center"},_e=t("span",null," Nombre ",-1),ye={class:"flex justify-between items-center"},ge=t("span",null," unidad ",-1),ke={class:"flex justify-between items-center"},ve=t("span",null," Descripcion ",-1),we={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},xe=["value"],Se={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ce={class:"flex justify-start items-center"},je={class:"rounded-md overflow-hidden"},$e={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Oe={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ue={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ie={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ve={class:"flex justify-betwween items-center p-2 border-t border-gray-200 dark:border-gray-700"},Ye={__name:"Index",props:{title:String,filters:Object,breadcrumbs:Object,perPage:Number,fromController:Object,subUnidadsSelect:Object,numberPermissions:Number},setup(h){const a=h,{_:S,debounce:C,pickBy:j}=D,e=I({params:{search:a.filters.search,field:a.filters.field,order:a.filters.order,perPage:a.perPage},selectedId:[],multipleSelect:!1,createOpen:!1,editOpen:!1,deleteOpen:!1,deleteBulkOpen:!1,generico:null,dataSet:V().props.app.perpage,subUnidadsSelect:null});e.subUnidadsSelect=P(e.subUnidadsSelect,a.subUnidadsSelect,"un");const _=o=>{console.log("ðŸ§ˆ debu field:",o),e.params.field=o.replace(/ /g,"_"),e.params.order=e.params.order==="asc"?"desc":"asc"};B(()=>S.cloneDeep(e.params),C(()=>{let o=j(e.params);N.get(route("ejercicio.index"),o,{replace:!0,preserveState:!0,preserveScroll:!0})},150));const $=o=>{var s;o.target.checked===!1?e.selectedId=[]:(s=a.fromController)==null||s.data.forEach(c=>{e.selectedId.push(c.id)})},O=()=>{var o;((o=a.fromController)==null?void 0:o.data.length)==e.selectedId.length?e.multipleSelect=!0:e.multipleSelect=!1};return(o,s)=>{const c=J("tooltip");return n(),g(k,null,[l(i(A),{title:a.title},null,8,["title"]),l(L,null,{default:p(()=>[l(M,{title:h.title,breadcrumbs:h.breadcrumbs},null,8,["title","breadcrumbs"]),t("div",Z,[t("div",ee,[t("div",te,[m(l(q,{class:"rounded-none",onClick:s[0]||(s[0]=r=>e.createOpen=!0)},{default:p(()=>[E(u(o.lang().button.add),1)]),_:1},512),[[v,o.can(["create ejercicio"])]]),o.can(["create ejercicio"])?(n(),d(K,{key:0,show:e.createOpen,onClose:s[1]||(s[1]=r=>e.createOpen=!1),title:a.title,subUnidadsSelect:e.subUnidadsSelect},null,8,["show","title","subUnidadsSelect"])):b("",!0),o.can(["update ejercicio"])?(n(),d(Q,{key:1,show:e.editOpen,onClose:s[2]||(s[2]=r=>e.editOpen=!1),ejercicio:e.generico,title:a.title,subUnidadsSelect:e.subUnidadsSelect},null,8,["show","ejercicio","title","subUnidadsSelect"])):b("",!0),o.can(["delete ejercicio"])?(n(),d(R,{key:2,show:e.deleteOpen,onClose:s[3]||(s[3]=r=>e.deleteOpen=!1),ejercicio:e.generico,title:a.title},null,8,["show","ejercicio","title"])):b("",!0)])]),t("div",se,[t("div",re,[t("div",oe,[l(z,{modelValue:e.params.perPage,"onUpdate:modelValue":s[4]||(s[4]=r=>e.params.perPage=r),dataSet:e.dataSet},null,8,["modelValue","dataSet"]),m((n(),d(w,{onClick:s[5]||(s[5]=r=>e.deleteBulkOpen=!0),class:"px-3 py-1.5"},{default:p(()=>[l(i(x),{class:"w-5 h-5"})]),_:1})),[[v,e.selectedId.length!=0],[c,o.lang().tooltip.delete_selected]])]),a.numberPermissions>1?(n(),d(X,{key:0,modelValue:e.params.search,"onUpdate:modelValue":s[6]||(s[6]=r=>e.params.search=r),type:"text",class:"block w-3/6 md:w-2/6 lg:w-1/6 rounded-lg",placeholder:o.lang().placeholder.search},null,8,["modelValue","placeholder"])):b("",!0)]),t("div",le,[t("table",ae,[t("thead",ne,[t("tr",ie,[t("th",de,[l(W,{checked:e.multipleSelect,"onUpdate:checked":s[7]||(s[7]=r=>e.multipleSelect=r),onChange:$},null,8,["checked"])]),t("th",ce,[t("div",pe,[me,l(i(f),{class:"w-4 h-4"})])]),t("th",ue,[t("div",fe,[he,l(i(f),{class:"w-4 h-4"})])]),t("th",{onClick:s[8]||(s[8]=r=>_("nombre")),class:"px-2 py-4 cursor-pointer hover:bg-sky-50 dark:hover:bg-sky-800"},[t("div",be,[_e,l(i(f),{class:"w-4 h-4"})])]),t("th",{onClick:s[9]||(s[9]=r=>_("subtopico_id")),class:"px-2 py-4 cursor-pointer hover:bg-sky-50 dark:hover:bg-sky-800"},[t("div",ye,[ge,l(i(f),{class:"w-4 h-4"})])]),t("th",{onClick:s[10]||(s[10]=r=>_("descripcion")),class:"px-2 py-4 cursor-pointer hover:bg-sky-50 dark:hover:bg-sky-800"},[t("div",ke,[ve,l(i(f),{class:"w-4 h-4"})])])])]),t("tbody",null,[(n(!0),g(k,null,T(h.fromController.data,(r,U)=>(n(),g("tr",{key:U,class:"border-t border-gray-200 dark:border-gray-700 hover:bg-gray-200/30 hover:dark:bg-gray-900/20"},[t("td",we,[m(t("input",{type:"checkbox",onChange:O,value:r.id,"onUpdate:modelValue":s[11]||(s[11]=y=>e.selectedId=y),class:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-primary dark:text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-gray-800 dark:checked:bg-primary dark:checked:border-primary"},null,40,xe),[[F,e.selectedId]])]),t("td",Se,[t("div",Ce,[t("div",je,[m((n(),d(Y,{type:"button",onClick:y=>(e.editOpen=!0,e.generico=r),class:"px-2 py-1.5 rounded-none"},{default:p(()=>[l(i(H),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[c,o.lang().tooltip.edit]]),m((n(),d(w,{type:"button",onClick:y=>(e.deleteOpen=!0,e.generico=r),class:"px-2 py-1.5 rounded-none"},{default:p(()=>[l(i(x),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[c,o.lang().tooltip.delete]])])])]),t("td",$e,u(r.enum),1),t("td",Oe,u(r.nombre),1),t("td",Ue,u(r.hijo),1),t("td",Ie,u(r.descripcion),1)]))),128))])])]),t("div",Ve,[l(G,{links:a.fromController,filters:e.params},null,8,["links","filters"])])])])]),_:1})],64)}}};export{Ye as default};
