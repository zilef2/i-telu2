import{H as I,r as U,J as D,a as T,O as k,c as n,b as l,u as d,f as c,F as h,x as E,k as o,X as N,d as t,s as b,l as x,t as p,g as m,m as O,y as $,h as C,q,B as z}from"./app-e4aec783.js";import{_ as A,S as H,q as J,h as S,U as M,Y as F}from"./AuthenticatedLayout-262f04fb.js";import{_ as L}from"./Breadcrumb-3bf15452.js";import{_ as Y}from"./TextInput-0d3578f0.js";import{_ as X}from"./PrimaryButton-62c6067b.js";import{_ as G}from"./SelectInput-e07a183c.js";import{_ as K}from"./DangerButton-b3b2af7b.js";import{_ as Q}from"./Pagination-461d5218.js";import{T as R,a as W}from"./index-1d64f8a7.js";import Z from"./Create-297c7f88.js";import ee from"./Edit-72796d75.js";import te from"./Delete-e484b7ef.js";import{_ as se}from"./GroupButtonsIndex-3c86dd21.js";import"./index-c5c5be5a.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Toast-501ce206.js";import"./InputError-ff01e7fb.js";import"./InputLabel-776359c0.js";import"./Modal-d321b06e.js";const ae={class:"space-y-4"},re={class:"px-4 sm:px-0"},oe={class:"rounded-lg overflow-hidden w-fit"},le={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},ie={class:"flex justify-between p-2"},ne={class:"flex space-x-2"},de={class:"overflow-x-auto scrollbar-table"},ce={class:"w-full"},pe={class:"uppercase text-sm border-t border-gray-200 dark:border-gray-700"},ue={class:"dark:bg-gray-900 text-left"},me=["onClick"],fe={key:0,class:"flex justify-between items-center"},be={key:1,class:"flex justify-between items-center"},ve={key:0,class:"whitespace-nowrap py-4 px-2 sm:py-3 w-20"},_e={class:"flex justify-start items-center"},ye={class:"rounded-md overflow-hidden"},he={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ge={class:"whitespace-nowrap py-4 px-2 sm:py-3"},we={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ke={class:"whitespace-nowrap py-4 px-2 sm:py-3"},xe={key:1,class:"whitespace-nowrap py-4 px-2 sm:py-3"},Oe={class:"flex justify-betwween items-center p-2 border-t border-gray-200 dark:border-gray-700"},$e=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),Ce={class:"fixed inset-0 overflow-y-auto"},Se={class:"flex min-h-full items-center justify-center p-4 text-center"},je=t("div",{class:"mt-2"},[t("p",{class:"text-sm text-gray-500"}," Esta universidad no tiene carreras inscritas ")],-1),Ge={__name:"Index",props:{title:String,filters:Object,breadcrumbs:Object,perPage:Number,fromController:Object,nombresTabla:Array,numberPermissions:Number},setup(u){const i=u,v=I(!1);function g(){v.value=!1}const{_:j,debounce:V,pickBy:w}=E,e=U({params:{search:i.filters.search,field:i.filters.field,order:i.filters.order,perPage:i.perPage},selectedId:[],multipleSelect:!1,createOpen:!1,editOpen:!1,deleteOpen:!1,deleteBulkOpen:!1,generico:null,successMessage:"",dataSet:D().props.app.perpage,params2:{selectedUniID:0}}),P=r=>{console.log("ðŸ§ˆ debu field:",r),e.params.field=r.replace(/ /g,"_"),e.params.order=e.params.order==="asc"?"desc":"asc"};T(()=>j.cloneDeep(e.params),V(()=>{let r=w(e.params);k.get(route("universidad.index"),r,{replace:!0,preserveState:!0,preserveScroll:!0})},150));const B=(r,a)=>{if(a>0){e.params2.selectedUniID=r;let _=w(e.params2);k.get(route("carrera.index"),_,{replace:!0,preserveState:!0,preserveScroll:!0})}else v.value=!0};return(r,a)=>{const _=z("tooltip");return o(),n(h,null,[l(d(N),{title:i.title},null,8,["title"]),l(A,null,{default:c(()=>[l(L,{title:u.title,breadcrumbs:u.breadcrumbs},null,8,["title","breadcrumbs"]),t("div",ae,[t("div",re,[t("div",oe,[r.can(["create universidad"])?(o(),b(X,{key:0,class:"rounded-none",onClick:a[0]||(a[0]=s=>e.createOpen=!0)},{default:c(()=>[x(p(r.lang().button.add),1)]),_:1})):m("",!0),r.can(["create universidad"])?(o(),b(Z,{key:1,show:e.createOpen,onClose:a[1]||(a[1]=s=>e.createOpen=!1),title:i.title},null,8,["show","title"])):m("",!0),r.can(["update universidad"])?(o(),b(ee,{key:2,show:e.editOpen,onClose:a[2]||(a[2]=s=>e.editOpen=!1),universidad:e.generico,title:i.title},null,8,["show","universidad","title"])):m("",!0),r.can(["delete universidad"])?(o(),b(te,{key:3,show:e.deleteOpen,onClose:a[3]||(a[3]=s=>e.deleteOpen=!1),universidad:e.generico,title:i.title},null,8,["show","universidad","title"])):m("",!0)])]),t("div",le,[t("div",ie,[t("div",ne,[l(G,{modelValue:e.params.perPage,"onUpdate:modelValue":a[4]||(a[4]=s=>e.params.perPage=s),dataSet:e.dataSet},null,8,["modelValue","dataSet"]),O((o(),b(K,{onClick:a[5]||(a[5]=s=>e.deleteBulkOpen=!0),class:"px-3 py-1.5"},{default:c(()=>[l(d(R),{class:"w-5 h-5"})]),_:1})),[[$,e.selectedId.length!=0],[_,r.lang().tooltip.delete_selected]])]),i.numberPermissions>1?(o(),b(Y,{key:0,modelValue:e.params.search,"onUpdate:modelValue":a[6]||(a[6]=s=>e.params.search=s),type:"text",class:"block w-3/6 md:w-2/6 lg:w-1/6 rounded-lg",placeholder:r.lang().placeholder.search},null,8,["modelValue","placeholder"])):m("",!0)]),t("div",de,[t("table",ce,[t("thead",pe,[t("tr",ue,[(o(!0),n(h,null,C(u.nombresTabla[0],(s,f)=>(o(),n("th",{key:f,onClick:y=>P(u.nombresTabla[2][f]),class:"px-2 py-4 cursor-pointer hover:bg-sky-50 dark:hover:bg-sky-800"},[u.nombresTabla[2][f]!==null?(o(),n("div",fe,[t("span",null,p(s),1),l(d(W),{class:"w-4 h-4"})])):(o(),n("div",be,[t("span",null,p(s),1)]))],8,me))),128))])]),t("tbody",null,[(o(!0),n(h,null,C(u.fromController.data,(s,f)=>(o(),n("tr",{key:f,class:q(["border-t border-gray-200 dark:border-gray-700 hover:bg-gray-200/30 hover:dark:bg-gray-900/20",f%2==0?"bg-gray-100 dark:bg-gray-800":""])},[i.numberPermissions>=5?(o(),n("td",ve,[t("div",_e,[t("div",ye,[O(l(se,{visualizar:["Editar","Borrar","Matricular","Ver"],ruta:"universidad.AsignarUsers",id1:s.id,onEditar:y=>(e.editOpen=!0,e.generico=s),onJustdelete:y=>(e.deleteOpen=!0,e.generico=s),onIrHijo:y=>B(s.id,s.cuantasCarreras)},null,8,["ruta","id1","onEditar","onJustdelete","onIrHijo"]),[[$,r.can(["isAdmin"])]])])])])):m("",!0),t("td",he,p(s.enum),1),t("td",ge,p(s.nombre),1),t("td",we,p(s.codigo),1),t("td",ke,p(s.cuantosUs),1),i.numberPermissions>=5?(o(),n("td",xe,p(s.tresPrimeros),1)):m("",!0)],2))),128))])])]),t("div",Oe,[l(Q,{links:i.fromController,filters:e.params},null,8,["links","filters"])])])]),t("template",null,[l(d(H),{appear:"",show:v.value,as:"template"},{default:c(()=>[l(d(J),{as:"div",onClose:g,class:"relative z-10"},{default:c(()=>[l(d(S),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:c(()=>[$e]),_:1}),t("div",Ce,[t("div",Se,[l(d(S),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:c(()=>[l(d(M),{class:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:c(()=>[l(d(F),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:c(()=>[x(" Sin carreras ")]),_:1}),je,t("div",{class:"mt-4"},[t("button",{type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",onClick:g}," Listo ")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])]),_:1})],64)}}};export{Ge as default};
