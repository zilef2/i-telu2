import{k as $,v as z,m as C,f as u,a as l,w as i,o as m,b as t,t as c,u as s,F as y,x as j,g as S,d as f,n as U,e as A}from"./app-fa012e40.js";import{_ as p}from"./InputError-bab8a326.js";import{_ as d}from"./InputLabel-0db2c892.js";import{_ as q,a as B}from"./SecondaryButton-8bd0ef43.js";import{_ as h}from"./PrimaryButton-f0e54c8a.js";import{_ as b}from"./TextInput-a37ed436.js";import{_ as G}from"./SelectInput-d6ecf7ad.js";const N={class:"space-y-6"},E=["onSubmit"],F={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},M={key:0},D=t("b",null,"Por favor, corrija el(los) siguiente(s) error(es):",-1),L={class:"text-red-400 bg-red-50"},O={class:"my-6 grid sm:grid-cols-5 xs:grid-cols-1 gap-6"},P={class:"col-span-2"},T={class:"col-span-2"},H={class:"col-span-5"},I={class:"w-full"},J={class:"w-full"},K={class:"flex justify-end"},ee={__name:"Create",props:{show:Boolean,title:String,MateriasSelect:Object},emits:["close"],setup(V,{emit:g}){const _=V;$({toolGenerar:"Gastara un token",mensajeGeenrar:"Generar sub topicos",respuesta:""});const e=z({nombre:"",descripcion:"",materia_id:0,nsubtemas:0,subtema:["","","","",""],resultAprendizaje:["","","","",""],enum:"",codigo:""}),w=()=>{e.post(route("Unidad.store"),{preserveScroll:!0,onSuccess:()=>{g("close"),e.reset()},onError:()=>null,onFinish:()=>null})},k=a=>{a>0?e.nsubtemas=e.nsubtemas<5?e.nsubtemas+=a:e.nsubtemas:e.nsubtemas=e.nsubtemas>0?e.nsubtemas+=a:0};return C(()=>{_.show&&(e.errors={})}),(a,r)=>(m(),u("section",N,[l(q,{show:_.show,onClose:r[7]||(r[7]=o=>g("close"))},{default:i(()=>[t("form",{class:"p-6",onSubmit:A(w,["prevent"])},[t("h2",F,c(a.lang().label.add)+" "+c(_.title),1),s(e).errors.length?(m(),u("p",M,[D,t("ul",null,[(m(!0),u(y,null,j(a.errors,o=>(m(),u("li",L,c(o),1))),256))])])):S("",!0),t("div",O,[t("div",P,[l(d,{for:"materia_id",value:a.lang().label.materia},null,8,["value"]),l(G,{name:"materia_id",class:"mt-1 block w-full",modelValue:s(e).materia_id,"onUpdate:modelValue":r[0]||(r[0]=o=>s(e).materia_id=o),required:"",dataSet:V.MateriasSelect},null,8,["modelValue","dataSet"]),l(p,{class:"mt-2",message:s(e).errors.materia_id},null,8,["message"])]),t("div",null,[l(d,{for:"enum",value:a.lang().label.enumUnidad},null,8,["value"]),l(b,{id:"enum",type:"number",class:"mt-1 block w-full",modelValue:s(e).enum,"onUpdate:modelValue":r[1]||(r[1]=o=>s(e).enum=o),required:"",placeholder:a.lang().placeholder.enum,error:s(e).errors.enum},null,8,["modelValue","placeholder","error"]),l(p,{class:"mt-2",message:s(e).errors.enum},null,8,["message"])]),t("div",T,[l(d,{for:"nombre",value:a.lang().label.name},null,8,["value"]),l(b,{id:"nombre",type:"text",class:"mt-1 block w-full",modelValue:s(e).nombre,"onUpdate:modelValue":r[2]||(r[2]=o=>s(e).nombre=o),required:"",placeholder:a.lang().placeholder.nombre,error:s(e).errors.nombre},null,8,["modelValue","placeholder","error"]),l(p,{class:"mt-2",message:s(e).errors.nombre},null,8,["message"])]),t("div",H,[l(d,{for:"materia_id",value:"numero de subtopicos"}),l(h,{onClick:r[3]||(r[3]=o=>k(1)),name:"subir",class:"px-auto m-1 w-10",type:"button"},{default:i(()=>[f(" + ")]),_:1}),l(h,{onClick:r[4]||(r[4]=o=>k(-1)),name:"subir",class:"px-auto m-1 w-10",type:"button"},{default:i(()=>[f(" - ")]),_:1}),l(b,{disabled:"",id:"descripcion",type:"number",class:"mt-1 w-24 ml-3",modelValue:s(e).nsubtemas,"onUpdate:modelValue":r[5]||(r[5]=o=>s(e).nsubtemas=o),required:"",placeholder:a.lang().placeholder.descripcion,error:s(e).errors.descripcion},null,8,["modelValue","placeholder","error"])]),(m(!0),u(y,null,j(s(e).nsubtemas,(o,n)=>(m(),u("div",{key:n,class:"flex gap-8 col-span-5"},[t("div",I,[l(d,{for:"stema",value:a.lang().label.stema+" "+(n+1)},null,8,["value"]),l(b,{id:"stema",type:"text",class:"mt-1 block w-full",modelValue:s(e).subtema[n],"onUpdate:modelValue":v=>s(e).subtema[n]=v,placeholder:a.lang().placeholder.stema,error:s(e).errors.stema},null,8,["modelValue","onUpdate:modelValue","placeholder","error"]),l(p,{class:"mt-2",message:s(e).errors.stema},null,8,["message"])]),t("div",J,[l(d,{for:"resultAprendizaje",value:a.lang().label.resultAprendizaje+" "+(n+1)},null,8,["value"]),l(b,{id:"resultAprendizaje",type:"text",class:"mt-1 block w-full",modelValue:s(e).resultAprendizaje[n],"onUpdate:modelValue":v=>s(e).resultAprendizaje[n]=v,placeholder:a.lang().placeholder.resultAprendizaje,error:s(e).errors.resultAprendizaje},null,8,["modelValue","onUpdate:modelValue","placeholder","error"]),l(p,{class:"mt-2",message:s(e).errors.resultAprendizaje},null,8,["message"])])]))),128))]),t("div",K,[l(B,{disabled:s(e).processing,onClick:r[6]||(r[6]=o=>g("close"))},{default:i(()=>[f(c(a.lang().button.close),1)]),_:1},8,["disabled"]),l(h,{class:U(["ml-3",{"opacity-25":s(e).processing}]),disabled:s(e).processing,onClick:w},{default:i(()=>[f(c(s(e).processing?a.lang().button.add+"...":a.lang().button.add),1)]),_:1},8,["class","disabled"])])],40,E)]),_:1},8,["show"])]))}};export{ee as default};
