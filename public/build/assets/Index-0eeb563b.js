import{k as D,J as q,l as R,O as T,m as B,A as I,f as d,a as i,u as m,w as u,F as _,p as G,o as r,X as N,b as s,c,d as v,t as f,g as n,q as b,s as A,x,h as w,y as E}from"./app-fa012e40.js";import{_ as L}from"./AuthenticatedLayout-e4269cae.js";import{_ as F}from"./Breadcrumb-a1f90ab0.js";import{_ as H}from"./TextInput-a37ed436.js";import{_ as U}from"./PrimaryButton-f0e54c8a.js";import{_ as g}from"./SelectInput-d6ecf7ad.js";import{_ as O}from"./DangerButton-83083e16.js";import{_ as J}from"./Pagination-2b288850.js";import{T as $,a as X,P as z,p as K,q as Q}from"./index-3cb9eb1b.js";import W from"./Create-1ee6a074.js";import Y from"./Edit-392829d7.js";import Z from"./Delete-196538d1.js";import ee from"./generarTodo-036d68c0.js";import{_ as k}from"./InfoButton-44b47ffa.js";import{_ as te}from"./superButton-2e5e8e61.js";import{v as M,P as se}from"./global-f5954534.js";import"./index-5d8dae98.js";import"./InputError-bab8a326.js";import"./InputLabel-0db2c892.js";import"./SecondaryButton-8bd0ef43.js";const re={key:0,class:""},ae=["innerHTML"],oe={key:1,class:"space-y-4"},le={class:"px-4 sm:px-0"},ie={class:"rounded-lg overflow-hidden w-fit"},ne={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},de={class:"flex justify-between p-2"},ce={key:0,class:"flex space-x-2"},pe={class:"bg-gray-100"},me={key:1,class:"bg-gray-100"},ue={class:"overflow-x-auto scrollbar-table"},fe={class:"w-full"},ye={class:"uppercase text-sm border-t border-gray-200 dark:border-gray-700"},he={class:"dark:bg-gray-900 text-left"},be=["onClick"],_e={class:"flex justify-between items-center"},ve={key:0,class:"whitespace-nowrap py-4 px-2 sm:py-3"},we={class:"flex justify-start items-center"},ge={class:"rounded-md overflow-hidden"},ke={key:1,class:"whitespace-nowrap py-4 px-2 sm:py-3"},Se={class:"flex justify-start items-center ml-6"},xe={class:"rounded-md overflow-hidden"},Ue={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Oe={key:0,class:"flex justify-start items-center"},$e={class:"rounded-md overflow-hidden"},Me={key:1,class:"flex justify-start items-center"},Ce=s("div",{class:"rounded-md overflow-hidden"}," Sin informaciÃ³n ",-1),Ve=[Ce],je={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Pe={class:"flex justify-start items-center"},De={class:"rounded-md overflow-hidden"},qe={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-sm text-gay-600"},Re={class:"whitespace-nowrap py-4 px-2 sm:py-3 underline text-sky-700"},Te={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-sm text-gay-600"},Be={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-sm text-gay-600"},Ie={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-sm text-gay-600"},Ge={key:2,class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ne={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ae={class:"whitespace-wrap break-words text-sm py-4 px-0"},Ee={class:"flex justify-betwween items-center p-2 border-t border-gray-200 dark:border-gray-700"},dt={__name:"Index",props:{title:String,filters:Object,breadcrumbs:Object,perPage:Number,fromController:Object,nombresTabla:Object,respuest:String,errorMessage:String,carrerasSelect:Object,MateriasRequisitoSelect:Object,UniversidadSelect:Object,numberPermissions:Number,ValoresGenerarMateria:Object},setup(p){const l=p,{_:C,debounce:V,pickBy:j}=G,e=D({params:{search:l.filters.search,field:l.filters.field,order:l.filters.order,selectedUni:l.filters.selectedUni,perPage:l.perPage,selectedcarr:l.filters.selectedcarr},selectedId:[],multipleSelect:!1,generarOpen:!1,createOpen:!1,editOpen:!1,deleteOpen:!1,deleteBulkOpen:!1,generico:0,dataSet:q().props.app.perpage,UniversidadSelect:[],carrerasDeUSel:[],MateriasRequisitoSelect:[],numeroCarreras:0}),P=a=>{e.params.field=a.replace(/ /g,"_"),e.params.order=e.params.order==="asc"?"desc":"asc"};return R(()=>C.cloneDeep(e.params),V(()=>{let a=j(e.params);T.get(route("materia.index"),a,{replace:!0,preserveState:!0,preserveScroll:!0})},10)),B(()=>{var a;e.carrerasDeUSel=(a=l.carrerasSelect)==null?void 0:a.map(o=>({label:o.nombre,value:o.id})),e.carrerasDeUSel.unshift({label:"Seleccione carrera",value:0}),(typeof e.params.selectedUni>"u"||typeof e.params.selectedUni=="object")&&(e.params.selectedUni="0")}),I(()=>{(typeof e.params.selectedcarr>"u"||e.params.selectedcarr===null)&&(e.params.selectedcarr=0),e.UniversidadSelect=M(e.UniversidadSelect,l.UniversidadSelect,"una"),e.carrerasDeUSel=M(e.carrerasDeUSel,l.carrerasSelect,"una")}),(a,o)=>{const y=E("tooltip");return r(),d(_,null,[i(m(N),{title:l.title},null,8,["title"]),i(L,null,{default:u(()=>[i(F,{title:p.title,breadcrumbs:p.breadcrumbs},null,8,["title","breadcrumbs"]),p.errorMessage?(r(),d("div",re,[s("p",{class:"text-xl text-red-500 bg-red-100",innerHTML:p.errorMessage},null,8,ae)])):(r(),d("div",oe,[s("div",le,[s("div",ie,[a.can(["create materia"])?(r(),c(U,{key:0,class:"rounded-none",onClick:o[0]||(o[0]=t=>e.createOpen=!0)},{default:u(()=>[v(f(a.lang().button.add),1)]),_:1})):n("",!0),a.can(["create materia"])?(r(),c(U,{key:1,class:"rounded-none",onClick:o[1]||(o[1]=t=>e.generarOpen=!0)},{default:u(()=>[v(" Generar Materia ")]),_:1})):n("",!0),a.can(["create materia"])?(r(),c(ee,{key:2,show:e.generarOpen,onClose:o[2]||(o[2]=t=>e.generarOpen=!1),title:l.title,carrerasSelect:e.carrerasDeUSel,ValoresGenerarMateria:l.ValoresGenerarMateria,MateriasRequisitoSelect:l.MateriasRequisitoSelect},null,8,["show","title","carrerasSelect","ValoresGenerarMateria","MateriasRequisitoSelect"])):n("",!0),a.can(["create materia"])?(r(),c(W,{key:3,show:e.createOpen,onClose:o[3]||(o[3]=t=>e.createOpen=!1),title:l.title,carrerasSelect:e.carrerasDeUSel,MateriasRequisitoSelect:l.MateriasRequisitoSelect},null,8,["show","title","carrerasSelect","MateriasRequisitoSelect"])):n("",!0),a.can(["update materia"])?(r(),c(Y,{key:4,show:e.editOpen,onClose:o[4]||(o[4]=t=>e.editOpen=!1),materia:e.generico,title:l.title,carrerasSelect:e.carrerasDeUSel,MateriasRequisitoSelect:l.MateriasRequisitoSelect},null,8,["show","materia","title","carrerasSelect","MateriasRequisitoSelect"])):n("",!0),a.can(["delete materia"])?(r(),c(Z,{key:5,show:e.deleteOpen,onClose:o[5]||(o[5]=t=>e.deleteOpen=!1),materia:e.generico,title:l.title},null,8,["show","materia","title"])):n("",!0)])]),s("div",ne,[s("div",de,[l.numberPermissions>1?(r(),d("div",ce,[i(g,{modelValue:e.params.perPage,"onUpdate:modelValue":o[6]||(o[6]=t=>e.params.perPage=t),dataSet:e.dataSet},null,8,["modelValue","dataSet"]),a.can(["delete materia"])?b((r(),c(O,{key:0,onClick:o[7]||(o[7]=t=>e.deleteBulkOpen=!0),class:"px-3 py-1.5"},{default:u(()=>[i(m($),{class:"w-5 h-5"})]),_:1})),[[A,e.selectedId.length!=0],[y,a.lang().tooltip.delete_selected]]):n("",!0),s("div",pe,[i(g,{modelValue:e.params.selectedUni,"onUpdate:modelValue":o[8]||(o[8]=t=>e.params.selectedUni=t),id:"uni",dataSet:e.UniversidadSelect},null,8,["modelValue","dataSet"])]),e.params.selectedUni!=0&&l.numberPermissions>1?(r(),d("div",me,[i(g,{modelValue:e.params.selectedcarr,"onUpdate:modelValue":o[9]||(o[9]=t=>e.params.selectedcarr=t),id:"carrer",dataSet:e.carrerasDeUSel},null,8,["modelValue","dataSet"])])):n("",!0)])):n("",!0),a.can(["create materia"])?(r(),c(H,{key:1,modelValue:e.params.search,"onUpdate:modelValue":o[10]||(o[10]=t=>e.params.search=t),type:"text",class:"block w-3/6 md:w-2/6 lg:w-1/6 rounded-lg",placeholder:a.lang().placeholder.search},null,8,["modelValue","placeholder"])):n("",!0)]),s("div",ue,[s("table",fe,[s("thead",ye,[s("tr",he,[(r(!0),d(_,null,x(p.nombresTabla[0],(t,h)=>(r(),d("th",{key:h,onClick:S=>P(p.nombresTabla[2][h]),class:"px-2 py-4 cursor-pointer hover:bg-sky-50 dark:hover:bg-sky-800"},[s("div",_e,[s("span",null,f(t),1),p.nombresTabla[2][h]!==null?(r(),c(m(X),{key:0,class:"w-4 h-4"})):n("",!0)])],8,be))),128))])]),s("tbody",null,[(r(!0),d(_,null,x(p.fromController.data,(t,h)=>(r(),d("tr",{key:h,class:"border-t border-gray-200 dark:border-gray-700 hover:bg-gray-200/30 hover:dark:bg-gray-900/20"},[p.numberPermissions>2?(r(),d("td",ve,[s("div",we,[s("div",ge,[b((r(),c(k,{type:"button",onClick:S=>(e.editOpen=!0,e.generico=t),class:"px-2 py-1.5 rounded-none"},{default:u(()=>[i(m(z),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[y,a.lang().tooltip.edit]]),l.numberPermissions>3?b((r(),c(O,{key:0,type:"button",onClick:S=>(e.deleteOpen=!0,e.generico=t),class:"px-2 py-1.5 rounded-none"},{default:u(()=>[i(m($),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[y,a.lang().tooltip.delete]]):n("",!0)])])])):n("",!0),p.numberPermissions>2?(r(),d("td",ke,[s("div",Se,[s("div",xe,[i(m(w),{href:a.route("materia.AsignarUsers",t.id)},{default:u(()=>[b((r(),c(k,{type:"button",class:"py-1.5 rounded-none"},{default:u(()=>[i(m(K),{class:"w-7 h-7 px-0.5"})]),_:1})),[[y,a.lang().tooltip.inscribir]])]),_:2},1032,["href"])])])])):n("",!0),s("td",Ue,[t.cuantoshijos!=0?(r(),d("div",Oe,[s("div",$e,[i(te,{type:"button",class:"rounded-lg",ruta:"materia.VistaTema",id1:t.id,texto:"Estudiar"},null,8,["ruta","id1"])])])):(r(),d("div",Me,Ve))]),s("td",je,[s("div",Pe,[s("div",De,[i(m(w),{href:a.route("materia.Archivos",t.id)},{default:u(()=>[b((r(),c(k,{type:"button",class:"py-1.5 rounded-none"},{default:u(()=>[i(m(Q),{class:"w-7 h-7 px-0.5"})]),_:1})),[[y,a.lang().tooltip.archivos]])]),_:2},1032,["href"])])])]),s("td",qe,f(t.enum),1),s("td",Re,[i(m(w),{href:a.route("materia.show",t.id)},{default:u(()=>[v(f(t.nombre),1)]),_:2},1032,["href"])]),s("td",Te,f(t.codigo),1),s("td",Be,f(t.papa),1),s("td",Ie,f(t.cuantoshijos),1),l.numberPermissions>2?(r(),d("td",Ge,f(t.muchos),1)):n("",!0),s("td",Ne,f(t.objetivs),1),s("td",Ae,f(m(se)(t.descripcion,11)),1)]))),128))])])]),s("div",Ee,[i(J,{links:l.fromController,filters:e.params},null,8,["links","filters"])])])]))]),_:1})],64)}}};export{dt as default};
