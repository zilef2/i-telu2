import{r as j,N as l,v as L,o as M,w as S,a as N,c as s,b as g,d as e,e as T,t as n,g as m,u,f as b,q as y,m as x,p as _,s as D,F as v,h as F,O as V,k as a,l as p,n as k}from"./app-8190fc74.js";import{_ as w,a as B}from"./GreenButton-c0d2f63b.js";import{T as O}from"./Toast-095c7b20.js";/* empty css                   *//* empty css                                                  */import"./index-c7a22da3.js";import"./_plugin-vue_export-helper-c27b6911.js";const U={class:"space-y-1 flex self-center"},z=e("div",{class:"flex-none w-14"}," . ",-1),P={class:"grow mx-1 md:mx-12 xl:mx-20 text-center p-8"},$={class:"grid grid-cols-1 gap-6"},E={class:"container flex flex-col items-center justify-center px-6 mx-auto"},G=e("div",{class:"flex justify-center mx-auto"},[e("img",{class:"w-auto h-7 sm:h-8",src:"https://merakiui.com/images/logo.svg",alt:""})],-1),J={key:0,class:"mt-1"},W={class:"text-gray-500 text-center text-xl font-bold dark:text-gray-400"},H={class:""},K={key:0,id:"opciones2U",class:"w-full"},Q={class:"my-1 text-gray-500 dark:text-gray-400"},Y={class:"my-1 text-gray-500 dark:text-gray-400"},Z={class:"my-1 text-gray-500 dark:text-gray-400"},X={key:1,class:"mt-4 text-2xl font-semibold tracking-wide text-center text-gray-800 capitalize md:text-3xl dark:text-white"},ee={key:2,class:"mt-4 text-2xl font-semibold tracking-wide text-center text-gray-800 capitalize md:text-3xl dark:text-white"},te={key:0,class:"items-center self-center"},oe={key:1,class:"text-center inline-flex gap-4 mx-auto"},ie=e("label",{for:"",class:"mx-6 text-center"},"La IA revisará el articulo y pondrá una nota a este articulo",-1),re={key:2,class:""},ae={class:"bg-white pb-1 sm:pb-8 lg:pb-2"},se={class:"relative flex flex-wrap bg-gray-100 px-4 py-3 sm:flex-nowrap sm:items-center sm:justify-center sm:gap-3 sm:pr-8 md:px-8"},ne=e("div",{class:"order-1 mb-2 inline-block w-11/12 max-w-screen-sm text-sm text-black sm:order-none sm:mb-0 sm:w-auto md:text-base"}," Nota de la IA: ",-1),le={href:"#",class:"order-last inline-block w-full whitespace-nowrap rounded-lg bg-indigo-600 px-4 py-2 text-center text-xs font-semibold text-white outline-none ring-indigo-300 transition duration-100 hover:bg-indigo-700 focus-visible:ring active:bg-indigo-800 sm:order-none sm:w-auto md:text-sm"},ce={key:0,class:"relative flex flex-wrap bg-gray-100 px-4 py-3 sm:flex-nowrap sm:items-center sm:justify-center sm:gap-3 sm:pr-8 md:px-8"},de={class:"order-1 mb-2 inline-block w-11/12 max-w-screen-sm text-sm text-black sm:order-none sm:mb-0 sm:w-auto md:text-base"},ue={key:3,class:"mx-auto self-center inline-flex gap-10"},me={key:0,class:""},fe={class:"text-center mx-auto"},ge=e("label",{for:"",class:"mx-6 text-center"},"Coloque una nota a este articulo",-1),be={key:4,class:""},xe={class:"bg-white pb-6 sm:pb-8 lg:pb-6"},_e={class:"relative flex flex-wrap bg-gray-100 px-4 py-3 sm:flex-nowrap sm:items-center sm:justify-center sm:gap-3 sm:pr-8 md:px-8"},pe=e("div",{class:"order-1 mb-2 inline-block w-11/12 max-w-screen-sm text-sm text-black sm:order-none sm:mb-0 sm:w-auto md:text-base"}," Nota del docente: ",-1),ye={href:"#",class:"order-last inline-block w-full whitespace-nowrap rounded-lg bg-indigo-600 px-4 py-2 text-center text-xs font-semibold text-white outline-none ring-indigo-300 transition duration-100 hover:bg-indigo-700 focus-visible:ring active:bg-indigo-800 sm:order-none sm:w-auto md:text-sm"},he={key:5,class:"mt-2"},ve={key:6,class:"flex items-center mt-2"},ke={class:"text-red-500 dark:text-red-200 underline"},we={key:7,class:""},Ce=e("label",{for:"calificacion",class:"text-gray-500 text-xl font-bold dark:text-gray-400 mb-2"}," Calificación (IA) ",-1),Ae={key:0,class:"relative rounded-md shadow-sm select-none"},Ie={id:"calificacion",class:"block w-full px-5 py-3 mt-2 text-black font-sans bg-white dark:bg-gray-200 dark:text-gray-800 dark:border-gray-700 focus:border-blue-400 dark:focus:border-blue-400 focus:ring-blue-400 focus:outline-none focus:ring focus:ring-opacity-40 text-justify"},qe={key:0,class:"grid grid-cols-2 gap-8"},Re={class:""},je=["for"],Le={class:"relative rounded-md shadow-sm"},Me=["id","onFocus","onUpdate:modelValue"],Se={key:0,class:"absolute inset-y-0 left-0 pl-3 flex items-center cursor-progress text-gray-400"},Ne={class:""},Te=["for"],De={class:"relative rounded-md shadow-sm select-none"},Fe=["id"],Ve={class:"col-span-2"},Be=["for"],Oe={class:"relative rounded-md shadow-sm"},Ue=["id","onFocus","onUpdate:modelValue"],ze={key:1},Pe={class:""},$e=["for"],Ee={class:"relative rounded-md shadow-sm"},Ge=["id","onFocus","onUpdate:modelValue","disabled"],Je=e("hr",{class:"border-2 border-sky-100 my-8"},null,-1),We={class:"flex gap-12 text-center"},He=e("div",{class:"flex-none w-14"}," . ",-1),ot={__name:"Revis",props:{title:String,breadcrumbs:Object,numberPermissions:Number,CalifiConslta:Array,CalifiInicial:Object,articulo:Object,Universidad:Object,Carrera:Object,Materia:Object,ValoresGenerarSeccion:Object},setup(C){const r=C,t=j({mostrarLoader:!1,MensajeFinal:"",calificacionBackend:"",restarAlToken:0,NumSujerencias:[],errorCarrera:[],campos:[{id:"nick",etiqueta:"Titulo del articulo",valor:[]},{id:"Portada",etiqueta:l("Portada"),valor:[]},{id:"Resumen",etiqueta:l("Resumen"),valor:[]},{id:"Resumen_correcciones",etiqueta:l("Resumen_correcciones"),valor:""},{id:"Palabras_Clave",etiqueta:l("Palabras Clave"),valor:[]},{id:"Introduccion",etiqueta:l("Introduccion"),valor:[]},{id:"Introduccion_correcciones",etiqueta:l("Introduccion_correcciones"),valor:""},{id:"Revision_de_la_Literatura",etiqueta:l("Revision de la Literatura"),valor:[]},{id:"Metodologia",etiqueta:l("Metodologia"),valor:[]},{id:"Metodologia_correcciones",etiqueta:l("Metodologia_correcciones"),valor:""},{id:"Resultados",etiqueta:l("Resultados"),valor:[]},{id:"Discusion",etiqueta:l("Discusion"),valor:[]},{id:"Discusion_correcciones",etiqueta:l("Discusion_correcciones"),valor:""},{id:"Conclusiones",etiqueta:l("Conclusiones"),valor:[]},{id:"Conclusiones_correcciones",etiqueta:l("Conclusiones_correcciones"),valor:""},{id:"Agradecimientos",etiqueta:l("Agradecimientos"),valor:[]},{id:"Referencias",etiqueta:l("Referencias"),valor:[]},{id:"Anexos_o_Apendices",etiqueta:l("Anexos_o_Apendices"),valor:[]}],tipoTexto:"",campoActivo:null,calificacionDocente:3,EstaCalificado:r.CalifiInicial.docente>=0,EstaCalificadoIA:r.CalifiInicial.IA>=0,CalifiActual:r.CalifiInicial});console.log(t.EstaCalificado),console.log(r.calificacionARticulo);const i=L({...Object.fromEntries(t.campos.map(c=>[c.id,[]])),user_id:0,Resumen_integer:0,Introduccion_integer:0,Discusion_integer:0,Conclusiones_integer:0,Metodologia_integer:0,is_correcciones:!0});function A(){i.nick[0]=r.articulo.nick,i.Portada[0]=r.articulo.Portada,i.Resumen[0]=r.articulo.Resumen,i.Palabras_Clave[0]=r.articulo.Palabras_Clave,i.Introduccion[0]=r.articulo.Introduccion,i.Revision_de_la_Literatura[0]=r.articulo.Revision_de_la_Literatura,i.Metodologia[0]=r.articulo.Metodologia,i.Resultados[0]=r.articulo.Resultados,i.Discusion[0]=r.articulo.Discusion,i.Conclusiones[0]=r.articulo.Conclusiones,i.Agradecimientos[0]=r.articulo.Agradecimientos,i.Referencias[0]=r.articulo.Referencias,i.Anexos_o_Apendices[0]=r.articulo.Anexos_o_Apendices,i.user_id=r.articulo.user_id}M(()=>{let c;t.campos.forEach(d=>{c=d.id,t.NumSujerencias[c]=0}),A()}),S(()=>{}),N(()=>r.ValoresGenerarSeccion,c=>{c&&c.respuesta&&(t.calificacionBackend=c.respuesta,t.CalifiActual=r.CalifiConslta,setTimeout(function(){t.mostrarLoader=!1,window.location.reload()},500))});const I=()=>{window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})},q=()=>{window.scrollTo({top:0,behavior:"smooth"})},h=(c=null)=>{t.errorCarrera=[],t.mostrarLoader=!0,V.reload({only:["ValoresGenerarSeccion","CalifiConslta"],data:{elformulario:i,articuloid:r.articulo.id,notaManual:c}},{preserveScroll:!0,onSuccess:()=>{},onError:()=>alert(JSON.stringify(i.errors,null,4)),onFinish:()=>{setTimeout(function(){t.mostrarLoader=!1},500)}})},R=()=>{i.is_correcciones=!0,i.put(route("Articulo.update",r.articulo.id),{preserveScroll:!0,onSuccess:()=>{i.reset(),t.MensajeFinal="Articulo guardado correctamente"},onError:()=>alert(JSON.stringify(i.errors,null,4)),onFinish:()=>null})};return(c,d)=>(a(),s(v,null,[g(O,{flash:c.$page.props.flash},null,8,["flash"]),e("section",U,[z,e("div",P,[e("form",{onSubmit:d[5]||(d[5]=T((...o)=>c.create&&c.create(...o),["prevent"])),class:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"},[e("div",$,[e("div",E,[G,t.universidadid?(a(),s("div",J,[e("p",W,n(t.universidadid.title),1)])):m("",!0),e("div",H,[t.carreraid&&t.materiaid?(a(),s("p",K,n(t.carreraid.title)+", "+n(t.materiaid.title),1)):m("",!0)]),e("p",Q,n(r.Universidad.nombre),1),e("p",Y,n(r.Carrera.nombre),1),e("p",Z,n(r.Materia.nombre),1),u(i).nick?(a(),s("h1",ee,n(u(i).nick[0]),1)):(a(),s("h1",X," Nuevo articulo "))]),t.mostrarLoader?m("",!0):(a(),s("div",te,[e("button",{type:"button",onClick:I,class:"w-22 hover:bg-green-500 item-center px-6 py-2 mt-4 mx-8 text-sm font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-sky-800 rounded-lg focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-50"}," Ir al final ↓ "),g(u(k),{href:c.route("Articulo.index"),class:"w-22 hover:bg-gray-600 item-center px-6 py-2 mt-4 text-sm font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-black rounded-lg focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-50"},{default:b(()=>[p(" Regresar ")]),_:1},8,["href"])])),t.CalifiActual.IA===-1?(a(),s("div",oe,[ie,g(w,{class:y([{"opacity-25":t.mostrarLoader},"self-center text-center ml-3 px-10 py-2 outline outline-offset-2 ring-2 ring-green-700"]),disabled:t.mostrarLoader,onClick:d[0]||(d[0]=o=>h())},{default:b(()=>[p(n(t.mostrarLoader?"Calificando...":"Calificar Con IA"),1)]),_:1},8,["class","disabled"])])):(a(),s("div",re,[e("div",ae,[e("div",se,[ne,e("a",le,n(t.CalifiActual.IA),1)]),t.CalifiActual.ModelCalificacionIA?(a(),s("div",ce,[e("div",de,n(t.CalifiActual.ModelCalificacionIA.argumentoIA),1)])):m("",!0)])])),t.CalifiActual.docente===-1?(a(),s("div",ue,[t.mostrarLoader?m("",!0):(a(),s("div",me,[e("div",fe,[ge,x(e("input",{type:"number",step:"0.1",min:"0",max:"5","onUpdate:modelValue":d[1]||(d[1]=o=>t.calificacionDocente=o),class:"w-20 rounded border bg-gray-50 pl-5 py-1 text-gray-800 font-bold outline-none ring-indigo-300 transition duration-100 focus:ring"},null,512),[[_,t.calificacionDocente]]),t.calificacionDocente!==""?(a(),D(w,{key:0,class:y([{"opacity-25":t.mostrarLoader},"ml-3 px-10 py-2 outline outline-offset-2 ring-2 ring-green-700"]),disabled:t.mostrarLoader,onClick:d[2]||(d[2]=o=>h(t.calificacionDocente))},{default:b(()=>[p(n(t.mostrarLoader?"Calificando...":"Calificar Manualmente"),1)]),_:1},8,["class","disabled"])):m("",!0)])]))])):(a(),s("div",be,[e("div",xe,[e("div",_e,[pe,e("a",ye,n(t.CalifiActual.docente),1)])])])),t.mostrarLoader?(a(),s("div",he,[g(B)])):m("",!0),t.errorCarrera[0]?(a(),s("div",ve,[e("p",ke,n(t.errorCarrera[0]),1)])):m("",!0),t.calificacionBackend!==""?(a(),s("div",we,[Ce,t.calificacionBackend!=="Se guardo la nota"?(a(),s("div",Ae,[e("div",Ie,n(t.calificacionBackend),1)])):m("",!0)])):m("",!0),(a(!0),s(v,null,F(t.campos,o=>(a(),s("div",{key:o.id},[t.NumSujerencias[o.id]?(a(),s("div",qe,[e("div",Re,[e("label",{for:o.id,class:"text-gray-500 text-xl font-bold dark:text-gray-400 mb-2"},n(o.etiqueta),9,je),e("div",Le,[x(e("textarea",{id:o.id+"0",onFocus:f=>t.campoActivo=o.id,rows:"8",cols:"33",onBlur:d[3]||(d[3]=f=>t.campoActivo=null),"onUpdate:modelValue":f=>u(i)[o.id][0]=f,disabled:"",class:"block w-full px-5 py-3 mt-2 bg-gray-50 text-gray-700 placeholder-gray-400 border border-gray-200 rounded-lg dark:placeholder-gray-600 dark:bg-gray-900 dark:text-gray-100 dark:border-gray-700 focus:border-blue-400 dark:focus:border-blue-400 focus:ring-blue-400 focus:outline-none focus:ring focus:ring-opacity-40 text-justify"},null,40,Me),[[_,u(i)[o.id][0]]]),t.campoActivo===o.id&&u(i)[o.id][0]===""?(a(),s("div",Se," Puede preguntar a la IA, haciendo click en Generar o Refinar ")):m("",!0)])]),e("div",Ne,[e("label",{for:o.id,class:"text-gray-500 text-xl font-bold dark:text-gray-400 mb-2"}," Sugerencia "+n(o.etiqueta),9,Te),e("div",De,[e("div",{id:o.id+"1",class:"block w-full px-5 py-3 mt-2 text-white font-sans bg-black border border-sky-600 select-none rounded-lg dark:placeholder-gray-600 dark:bg-gray-200 dark:text-gray-800 dark:border-gray-700 focus:border-blue-400 dark:focus:border-blue-400 focus:ring-blue-400 focus:outline-none focus:ring focus:ring-opacity-40 text-justify"},n(u(i)[o.id][1][0]),9,Fe)])]),e("div",Ve,[e("label",{for:o.id,class:"text-gray-500 text-xl font-bold dark:text-gray-400 mb-2"},n(o.etiqueta)+" Final",9,Be),e("div",Oe,[x(e("textarea",{id:o.id+"2",onFocus:f=>t.campoActivo=o.id,rows:"6",cols:"33",onBlur:d[4]||(d[4]=f=>t.campoActivo=null),"onUpdate:modelValue":f=>u(i)[o.id][2]=f,placeholder:"Teniendo en cuenta la sugerencia de la IA...",class:"block w-full px-5 py-3 mt-2 text-gray-700 placeholder-gray-400 bg-white border border-gray-200 rounded-lg dark:placeholder-gray-600 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-700 focus:border-blue-400 dark:focus:border-blue-400 focus:ring-blue-400 focus:outline-none focus:ring focus:ring-opacity-40 text-justify"},null,40,Ue),[[_,u(i)[o.id][2]]])])])])):(a(),s("div",ze,[e("div",Pe,[e("label",{for:o.id,class:"rounded-2xl px-10 text-gray-500 text-xl font-bold dark:text-gray-400 shadow-sm bg-gradient-to-r from-gray-50 via-gray-100 to-sky-100 mb-2"},n(o.etiqueta),9,$e),e("div",Ee,[x(e("textarea",{id:o.id,onFocus:f=>t.campoActivo=o.id,rows:"4",cols:"33","onUpdate:modelValue":f=>u(i)[o.id][0]=f,disabled:!o.id.endsWith("correcciones"),class:y([{"opacity-75 bg-gray-200":!o.id.endsWith("correcciones")},"block w-full px-5 py-3 mt-2 border rounded-xl placeholder-gray-400 text-gray-700 border-gray-200 dark:placeholder-gray-600 dark:text-gray-300 dark:border-gray-700 focus:border-blue-400"])},null,42,Ge),[[_,u(i)[o.id][0]]])])])])),Je]))),128)),e("div",We,[e("button",{onClick:R,class:"w-1/3 item-center px-6 py-3 mt-4 text-sm font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-sky-500 rounded-lg hover:bg-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-50"}," Actualizar "),e("button",{type:"button",onClick:q,class:"w-1/3 hover:bg-green-500 item-center px-6 py-3 mt-4 text-sm font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-sky-800 rounded-lg focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-50"}," Ir al Inicio"),g(u(k),{href:c.route("Articulo.index"),class:"w-1/3 item-center px-6 py-3 mt-4 text-sm font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-black rounded-lg hover:bg-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-50"},{default:b(()=>[p(" Regresar ")]),_:1},8,["href"])])])],32)]),He])],64))}};export{ot as default};
